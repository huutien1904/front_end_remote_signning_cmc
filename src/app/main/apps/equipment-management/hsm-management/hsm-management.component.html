<div class="content-body">
    <section>
        <div class="card">
            <h5 class="card-header">Bộ lọc tìm kiếm</h5>
            <div class="card-body">
                <form class="form form-vertical" [formGroup]="formListHSM">
                    <div class="row mb-1">
                        <div class="col-md-6">
                            <input name="hsmName" id="hsmName" type="search" class="form-control" formControlName="hsmName" placeholder="Một phần tên hãng, tên modal" />
                        </div>
                    </div>
                    <div class="row mb-1">
                        <div class="col-12">
                            <button type="button" class="btn btn-outline-secondary mr-1" (click)="moreOption = !moreOption" rippleEffect>
                                Tùy chọn
                            </button>
                            <button type="button" rippleEffect class="btn btn-primary" (click)="onSubmit()" [disabled]="!formListHSM.valid">
                                Tìm kiếm
                          </button>
                        </div>
                    </div>
                    <div class="row" [ngbCollapse]="moreOption">
                        <div class="col-md-2">
                            <label for="">Số dòng:</label>
                            <fieldset class="form-group">
                                <ng-select [items]="sizePage" suffix=" dòng" [clearable]="false" formControlName="sizePage"></ng-select>
                            </fieldset>
                        </div>
                        <div class="col-md-8">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group inline">
                                        <label for="">Từ ngày</label>
                                        <small class="text-danger" *ngIf="formListHSM.controls['fromDate']?.errors && formListHSM.controls['fromDate'].touched">
                                            Bạn chưa nhập tên
                                        </small>
                                        <div class="input-group">
                                            <input name="datepicker" class="form-control" ngbDatepicker placeholder="yyyy-mm-dd" #rangeSelectionDP="ngbDatepicker" [autoClose]="'outside'" (dateSelect)="onDateSelection($event)" [displayMonths]="2" [dayTemplate]="t" outsideDays="hidden" [startDate]="fromDate!"
                                                [value]="formatter.format(today)" formControlName="fromDate" />
                                            <ng-template #t let-date let-focused="focused">
                                                <span class="custom-day" [class.focused]="focused" [class.range]="isRange(date)" [class.faded]="isHovered(date) || isInside(date)" (mouseenter)="hoveredDate = date" (mouseleave)="hoveredDate = null">
                                                    {{ date.day }}
                                                </span>
                                            </ng-template>
                                            <div class="input-group-append">
                                                <button class="btn btn-outline-secondary feather icon-calendar" (click)="rangeSelectionDP.toggle()" type="button" rippleEffect></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="">Đến ngày</label>
                                        <div class="input-group">
                                            <input #dpToDate class="form-control" placeholder="yyyy-mm-dd" name="dpToDate" [value]="formatter.format(toDate)" formControlName="toDate" />
                                            <div class="input-group-append">
                                                <button class="btn btn-outline-secondary feather icon-calendar" (click)="rangeSelectionDP.toggle()" type="button" rippleEffect></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="card">
            <div class="row">
                <div class="col-12">
                    <div class="d-flex justify-content-md-end m-1">
                        <button routerLink="/apps/equipment-management/new-hsm" class="btn btn-primary ml-1" rippleEffect>
                            <span class=" feather icon-plus  mr-0 mr-sm-1"></span>
                            <span class="d-none d-sm-inline-block">Thêm mới</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>TT</th>
                                    <th>TÊN</th>
                                    <th>HÃNG SẢN XUẤT</th>
                                    <th>TÊN MODEL</th>
                                    <th>ĐƯỜNG DẪN FILE THƯ VIỆN</th>
                                    <th>HÀNH ĐỘNG</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of rows; let i = index">
                                    <td>{{ item.no }}</td>
                                    <td>{{ item.hsmName }}</td>
                                    <td>{{ item.hsmManufacturer }}</td>
                                    <td>{{ item.hsmModel }}</td>
                                    <td>{{ item.hsmLibraryPath }}</td>
                                    <td>
                                        <div ngbDropdown container="body">
                                            <button type="button" class="btn btn-sm hide-arrow" ngbDropdownToggle data-toggle="dropdown">
                                                <i class="feather icon-more-vertical"></i>
                                            </button>
                                            <div ngbDropdownMenu>
                                                <!--
                                                <a ngbDropdownItem routerLink="/apps/equipment-management/new-token">
                                                    <i class="mr-50 feather icon-plus"></i>
                                                    <span>Thêm token</span>
                                                </a>
                                                -->
                                                <a ngbDropdownItem href="javascript:void(0);">
                                                    <i class="mr-50 feather icon-file-text"></i>
                                                    <span>Thông tin</span>
                                                </a>
                                                <a ngbDropdownItem href="javascript:void(0);">
                                                    <i class="mr-50 feather icon-trash"></i>
                                                    <span>Xóa</span>
                                                </a>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="row">
                    <div class="col-xl-6 offset-6 mt-1">
                        <ngb-pagination class="d-flex justify-content-end" [pageSize]="itemOnPage" [collectionSize]="totalPages" [(page)]="pageAdvancedEllipses" [maxSize]="5" [rotate]="true" [ellipses]="false" [boundaryLinks]="true" (pageChange)="changePage($event)">
                            <ng-template ngbPaginationFirst>Trang đầu</ng-template>
                            <ng-template ngbPaginationPrevious><span [data-feather]="'chevron-left'" [class]="'font-weight-bolder'"></span>Trang trước
                            </ng-template>
                            <ng-template ngbPaginationNext>Trang sau<span [data-feather]="'chevron-right'" [class]="'font-weight-bolder'"></span>
                            </ng-template>
                            <ng-template ngbPaginationLast>Trang cuối</ng-template>
                        </ngb-pagination>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>