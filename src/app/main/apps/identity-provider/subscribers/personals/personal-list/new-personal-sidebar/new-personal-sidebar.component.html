<form class="form form-horizontal add-new-user modal-content pt-0 personal-form" id = "form-peronal" [formGroup]="newPersonal"  (ngSubmit)="onSubmit()">
  <!-- <div class="form_header">
    <div class="h1">Đăng ký thông tin</div>
    <button aria-label="Close" (click) = "closeModal()">
      <a href=""><span class="input-group-text button_exit"><span [data-feather]="'x'"></span></span></a>
    </button>
    
  </div> -->
  <!-- thông tin cá nhân -->
  <div class="form_content">
    <h3>Thông tin cá nhân </h3>
    <div class="row">
      <div class="col-12 col-md-3">
        <div class="form-group ">
          <div class="col-sm-12 col-form-label">
            <label class="lable" >Họ</label>
          </div>
          <div class="col-sm-12">
            <div class="input-group input-group-merge" >
              <div class="input-group-prepend" >
                <span 
                    class="input-group-text" 
                    [ngClass]="{ 'error_icon': submitted && f.personalFirstName.errors }"
                    
                ><span [data-feather]="'user'"></span></span>
              </div>
              <input
                [ngClass]="{ 'error': submitted && f.personalFirstName.errors}"
                formControlName="personalFirstName"
                placeholder="Họ"                        
                type="text" 
                class="form-control"
              />
              
            </div>
          </div>
          <div class="col-sm-12">
            <span *ngIf="submitted && f.personalFirstName.errors || f.personalFirstName?.errors?.required  && f.personalFirstName?.touched" class="invalid-form">
              <small class="form-text text-muted danger" *ngIf = "f.personalFirstName.errors.required">
                Không được bỏ trống 
              </small>
              <small class="form-text text-muted danger" *ngIf = "f.personalFirstName.errors.minLength">
                phải điển đủ 6 kí tự
              </small>
            </span>
            
            <!-- {{newPersonal.value.personalFirstName}} -->
          </div>
        </div>
      </div>
      <div class="col-12 col-md-3">
        <div class="form-group ">
          <div class="col-sm-12 col-form-label">
            <label class="lable">TÊN ĐỆM</label>
          </div>
          <div class="col-sm-12">
            <div class="input-group input-group-merge">
              <div class="input-group-prepend">
                <span class="input-group-text"
                [ngClass]="{ 'error_icon': submitted && f.personalMiddleName.errors }"><span [data-feather]="'user'"></span></span>
              </div>
              <input
              [ngClass]="{ 'error': submitted && f.personalMiddleName.errors}"
                formControlName="personalMiddleName"
                type="text"
                id="fname-icon-1"
                class="form-control"
                name="fname-icon-1"
                placeholder="Tên đệm"
              />
            </div>
          </div>
          <div class="col-sm-12">
            <span *ngIf="submitted && f.personalMiddleName.errors " class="invalid-form">
              <small class="form-text text-muted danger" >
                Không được bỏ trống </small>
            </span>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-3">
        <div class="form-group ">
          <div class="col-sm-12 col-form-label">
            <label class="lable">TÊN</label>
          </div>
          <div class="col-sm-12">
            <div class="input-group input-group-merge">
              <div class="input-group-prepend">
                <span 
                  class="input-group-text" 
                  [ngClass]="{ 'error_icon': submitted && f.personalLastName.errors }"><span [data-feather]="'user'"></span></span>
              </div>
              <input
              [ngClass]="{ 'error': submitted && f.personalLastName.errors}"
                formControlName="personalLastName"
                type="text"
                id="fname-icon-2"
                class="form-control"
                name="fname-icon-2"
                placeholder="Tên"
              />
            </div>
          </div>
          <div class="col-sm-12">
            <span *ngIf="submitted && f.personalLastName.errors " class="invalid-form">
              <small class="form-text text-muted danger" >
                Không được bỏ trống </small>
            </span>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-3">
        <div class="form-group ">
          <div class="col-sm-12 col-form-label">
            <label class="lable">CĂN CƯỚC CÔNG DÂN</label>
          </div>
          <div class="col-sm-12">
            <div class="input-group input-group-merge">
              <div class="input-group-prepend">
                <span class="input-group-text" [ngClass]="{ 'error_icon': submitted && f.personalCountryId.errors }"><span [data-feather]="'credit-card'"></span></span>
              </div>
              <input
              [ngClass]="{ 'error': submitted && f.personalCountryId.errors}"
                formControlName="personalCountryId"
                type="text"
                id="fname-icon-3"
                class="form-control"
                name="fname-icon-3"
                placeholder="03520001170"
              />
            </div>
          </div>
          <div class="col-sm-12">
            <span *ngIf="submitted && f.personalCountryId.errors " class="invalid-form">
              <small class="form-text text-muted danger" >
                Không được bỏ trống </small>
                
            </span>
            
          </div>
        </div>
      </div>         
    </div>
    
    <div class="row">
      <div class="col-12 col-md-3">
        <div class="form-group ">
          <div class="col-sm-12 col-form-label">
            <label class="lable">NGÀY THÁNG NĂM SINH </label>
          </div>
          <div class="col-sm-12">
            <div class="input-group input-group-merge">
              <div class="input-group-prepend">
                <span class="input-group-text" [ngClass]="{ 'error_icon': submitted && f.birthday.errors }"><span [data-feather]="'more-horizontal'"></span></span>
              </div>
              <input
              [ngClass]="{ 'error': submitted && f.birthday.errors}"
                formControlName="birthday"
                type="text"
                id="fname-icon-4"
                class="form-control"
                name="fname-icon-4"
                placeholder="19/04/2000"
              />
            </div>
          </div>
          <div class="col-sm-12">
            <span *ngIf="submitted && f.birthday.errors " class="invalid-form">
              <small class="form-text text-muted danger" *ngIf = "f.birthday.errors.required">
                Không được bỏ trống 
              </small>
                <small class="form-text text-muted danger" *ngIf = "f.birthday.errors.pattern">
                  điền đúng cú pháp dd/mm/yyyy
                </small>
            </span>
              
           
          </div>
        </div>
      </div>
      <div class="col-12 col-md-3">
        <div class="form-group ">
          <div class="col-sm-12 col-form-label">
            <label class="lable">SỐ ĐIỆN THOẠI</label>
          </div>
          <div class="col-sm-12">
            <div class="input-group input-group-merge">
              <div class="input-group-prepend">
                <span class="input-group-text" [ngClass]="{ 'error_icon': submitted && f.phoneNumber.errors }"><span [data-feather]="'phone-call'"></span></span>
              </div>
              <input
              [ngClass]="{ 'error': submitted && f.phoneNumber.errors}"
                formControlName="phoneNumber"
                type="text"
                id="fname-icon"
                class="form-control"
                name="fname-icon"
                placeholder="Số điện thoại"
              />
            </div>
          </div>
          <div class="col-sm-12">
            <span *ngIf="submitted && f.phoneNumber.errors " class="invalid-form">
              <small class="form-text text-muted danger" *ngIf="f.phoneNumber.errors.required ">
                Không được bỏ trống 
              </small>
              <small class="form-text text-muted danger" *ngIf="f.phoneNumber.errors.minLength ">
                phải đủ 10 số 
              </small>
            </span>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-3">
        <div class="form-group ">
          <div class="col-sm-12 col-form-label">
            <label class="lable">EMAIL</label>
          </div>
          <div class="col-sm-12">
            <div class="input-group input-group-merge">
              <div class="input-group-prepend">
                <span class="input-group-text" [ngClass]="{ 'error_icon': submitted && f.email.errors }"><span [data-feather]="'mail'"></span></span>
              </div>
              <input
              [ngClass]="{ 'error': submitted && f.email.errors}"
                formControlName="email"
                type="text"
                id="fname-icon-5"
                class="form-control"
                name="fname-icon-5"
                placeholder="Email"
              />
            </div>
          </div>
          <div class="col-sm-12">
            <span *ngIf="submitted && f.email.errors" class="invalid-form">
              <small class="form-text text-muted danger" *ngIf="f.email.errors.required">
                email must be valid!
              </small>
              <small class="form-text text-muted danger" *ngIf="f.email.errors.email">
                điền đúng định dạng
              </small>
            </span>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-3">
        <div class="form-group ">
          <div class="col-sm-12 col-form-label">
            <label class="lable">ID TỔ CHỨC</label>
          </div>
          <div class="col-sm-12">
              <ng-select   
                [ngClass]="{ 'error': submitted && f.organizationId.errors}"
                [items]="organizationId" 
                [clearable]="false"
                bindLabel="name"
                bindValue="name"
                placeholder="Tổ chức"
                formControlName="organizationId">
              </ng-select>
          </div>
          <div class="col-sm-12">
            <span *ngIf="submitted && f.organizationId.errors" class="invalid-form">
              <small class="form-text text-muted danger">
                không được bỏ trống</small>
            </span>
          </div>
        </div>
      </div>         
    </div>
    <div class="row">
      <div class="col-12 col-md-3">
        <div class="form-group ">
          <div class="col-sm-12 col-form-label">
            <label class="lable">GIỚI TÍNH</label>
          </div>
          <div class="col-sm-12">
              <ng-select   
                [items]="sexOption" 
                [clearable]="false"
                bindLabel="name"
                bindValue="name"
                placeholder="Giới tính"
                >
              </ng-select>
          </div>
          <div class="col-sm-12">
            <span *ngIf="submitted && f.organizationId.errors" class="invalid-form">
              <small class="form-text text-muted danger">
                không được bỏ trống</small>
            </span>
          </div>
        </div>
      </div>  
    </div>

    <h3>Nơi sinh</h3>
    <div class="row">
      <div class="col-12 col-md-6">
        <div class="row">
          <!-- quốc gia -->
          <div class="col-12 col-md-6">
            <div class="form-group ">
              <div class="col-sm-12 col-form-label">
                <label class="lable">QUỐC GIA</label>
              </div>
              <div class="col-sm-12">
                <ng-select   
                  [ngClass]="{ 'error': submitted && f.countryBirthPlace.errors}"
                  [items]="countryBirthPlace" 
                  [clearable]="false"
                  bindLabel="name"
                  bindValue="name"
                  placeholder="Quốc gia"
                  formControlName="countryBirthPlace">
                </ng-select>
              </div>
              <div class="col-sm-12">
                <span *ngIf="submitted && f.countryBirthPlace.errors" class="invalid-form">
                  <small class="form-text text-muted danger">
                    không được bỏ trống</small>
                </span>
              </div>
            </div>
          </div>
          <!-- end quốc gia -->

          <!-- tỉnh thành phố -->
          <div class="col-12 col-md-6">
            <div class="form-group ">
              <div class="col-sm-12 col-form-label">
                <label class="lable">TỈNH </label>
              </div>
              <div class="col-sm-12">
                <ng-select  
                  [ngClass]="{ 'error_icon': submitted && f.provinceBirthPlace.errors }"   
                  [items]="provinceBirthPlace" 
                  [clearable]="false"
                  bindLabel="name"
                  bindValue="name"
                  placeholder="Tỉnh/Thành phố"
                  formControlName="provinceBirthPlace"
                  (change) = "OnSelectProviceBirth($event)"
                  >
                </ng-select>
              </div>
              <div class="col-sm-12">
                <span *ngIf="submitted && f.provinceBirthPlace.errors" class="invalid-form">
                  <small class="form-text text-muted danger">
                    không được bỏ trống</small>
                </span>
              </div>
            </div>
          </div>
          <!-- end tỉnh thành phố -->
        </div>
      </div>
      <div class="col-12 col-md-6">
        <div class="row">
          <div class="col-12 col-md-6">
            <div class="form-group ">
              <div class="col-sm-12 col-form-label">
                <label class="lable">HUYỆN</label>
              </div>
              <div class="col-sm-12">
                <ng-select  
                  [ngClass]="{ 'error_icon': submitted && f.districtBirthPlace.errors }"   
                  [items]="districtBirthPlace" 
                  [clearable]="false"
                  bindLabel="name"
                  bindValue="name"
                  placeholder="Huyện"
                  formControlName="districtBirthPlace"
                  (change) = "OnSelectDistrictBirth($event)"
                  >
                </ng-select>
              </div>
              <div class="col-sm-12">
                <span *ngIf="submitted && f.districtBirthPlace.errors" class="invalid-form">
                  <small class="form-text text-muted danger">
                    không được bỏ trống</small>
                </span>
              </div>
            </div>
          </div>

          <div class="col-12 col-md-6">
            <div class="form-group ">
              <div class="col-sm-12 col-form-label">
                <label class="lable">XÃ</label>
              </div>
              <div class="col-sm-12">
                <ng-select  
                  [ngClass]="{ 'error_icon': submitted && f.communeBirthPlace.errors }"   
                  [items]="communeBirthPlace" 
                  [clearable]="false"
                  bindLabel="name"
                  bindValue="name"
                  placeholder="Xã"
                  formControlName="communeBirthPlace"
                  >
                </ng-select>
              </div>
              <div class="col-sm-12">
                <span *ngIf="submitted && f.communeBirthPlace.errors" class="invalid-form">
                  <small class="form-text text-muted danger">
                    không được bỏ trống</small>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-md-3">
        <div class="form-group ">
          <div class="col-sm-12 col-form-label">
            <label class="lable">Đường</label>
          </div>
          <div class="col-sm-12">
            <ng-select  
                  [ngClass]="{ 'error_icon': submitted && f.homeNumberBirthPlace.errors }"   
                  [items]="homeNumberBirthPlace" 
                  [clearable]="false"
                  bindLabel="name"
                  bindValue="name"
                  placeholder="Đường"
                  formControlName="homeNumberBirthPlace"
                  >
            </ng-select>
          </div>
          
          <div class="col-sm-12">
            <span *ngIf="submitted && f.homeNumberBirthPlace.errors" class="invalid-form">
              <small class="form-text text-muted danger" >
                Không được bỏ trống </small>
                
            </span>
          </div>
        </div>
      </div>

      <div class="col-12 col-md-4">
        <div class="form-group ">
          <div class="col-sm-12 col-form-label">
            <label class="lable">ĐỊA CHỈ CỤ THỂ (SỐ NHÀ, NGÕ, NGÁCH, ...)</label>
          </div>
          <div class="col-sm-12">
            <div class="input-group input-group-merge">
              <input
              [ngClass]="{ 'error': submitted && f.streetBirthPlace.errors}"
                formControlName="streetBirthPlace"
                type="text"
                id="fname-icon-8"
                class="form-control"
                name="fname-icon-8"
                placeholder="83 Yên Phúc,Hà Đông ,Hà Nội"
              />
            </div>
          </div>
          <div class="col-sm-12">
            <span *ngIf="submitted && f.streetBirthPlace.errors"  class="invalid-form">
              <small class="form-text text-muted danger">
                Không được bỏ trống </small>
            </span>
          </div>
        </div>
      </div>
    </div>

    <h3>Nơi cư chú</h3>
    <div class="row ">
      <div class="col-12 col-md-6">
        <div class="row">
          <!-- quốc gia -->
          <div class="col-12 col-md-6">
            <div class="form-group ">
              <div class="col-sm-12 col-form-label">
                <label class="lable">QUỐC GIA</label>
              </div>
              <div class="col-sm-12">
                <ng-select   
                  [ngClass]="{ 'error': submitted && f.countryResidencePlace.errors}"
                  [items]="countryResidencePlace" 
                  [clearable]="false"
                  bindLabel="name"
                  bindValue="name"
                  placeholder="Quốc gia"
                  formControlName="countryResidencePlace">
                </ng-select>
              </div>
              <div class="col-sm-12">
                <span *ngIf="submitted && f.countryResidencePlace.errors" class="invalid-form">
                  <small class="form-text text-muted danger">
                    không được bỏ trống</small>
                </span>
              </div>
            </div>
          </div>
          <!-- end quốc gia -->

          <!-- tỉnh thành phố -->
          <div class="col-12 col-md-6">
            <div class="form-group ">
              <div class="col-sm-12 col-form-label">
                <label class="lable">TỈNH/THÀNH PHỐ </label>
              </div>
              <div class="col-sm-12">
                <ng-select   
                  [ngClass]="{ 'error': submitted && f.provinceResidencePlace.errors}"
                  [items]="provinceResidencePlace" 
                  [clearable]="false"
                  bindLabel="name"
                  bindValue="name"
                  placeholder="Tỉnh/Thành Phố"
                  formControlName="provinceResidencePlace"
                  (change) = "OnSelectProviceResidence($event)"
                  >
                </ng-select>
              </div>
              <div class="col-sm-12">
                <span *ngIf="submitted && f.provinceResidencePlace.errors" class="invalid-form">
                  <small class="form-text text-muted danger">
                    không được bỏ trống</small>
                </span>
              </div>
            </div>
          </div>
          <!-- end tỉnh thành phố -->
        </div>
      </div>
      <div class="col-12 col-md-6">
        <div class="row">
          <div class="col-12 col-md-6">
            <div class="form-group ">
              <div class="col-sm-12 col-form-label">
                <label class="lable">HUYỆN</label>
              </div>
              <div class="col-sm-12">
                <ng-select   
                  [ngClass]="{ 'error': submitted && f.districtResidencePlace.errors}"
                  [items]="districtResidencePlace" 
                  [clearable]="false"
                  bindLabel="name"
                  bindValue="name"
                  placeholder="Huyện"
                  formControlName="districtResidencePlace"
                  (change) = "OnSelectDistrictResidence($event)">
                </ng-select>
                
              </div>
              <div class="col-sm-12">
                <span *ngIf="submitted && f.districtResidencePlace.errors" class="invalid-form">
                  <small class="form-text text-muted danger">
                    không được bỏ trống</small>
                </span>
              </div>
            </div>
          </div>

          <div class="col-12 col-md-6">
            <div class="form-group ">
              <div class="col-sm-12 col-form-label">
                <label class="lable">XÃ</label>
              </div>
              <div class="col-sm-12">
                <ng-select   
                  [ngClass]="{ 'error': submitted && f.communeResidencePlace.errors}"
                  [items]="communeResidencePlace" 
                  [clearable]="false"
                  bindLabel="name"
                  bindValue="name"
                  placeholder="Xã"
                  formControlName="communeResidencePlace">
                </ng-select>
              </div>
              <div class="col-sm-12">
                <span *ngIf="submitted && f.communeResidencePlace.errors" class="invalid-form">
                  <small class="form-text text-muted danger">
                    không được bỏ trống</small>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row row_bottom">
      <div class="col-12 col-md-3">
        <div class="form-group ">
          <div class="col-sm-12 col-form-label">
            <label class="lable">ĐƯỜNG</label>
          </div>
          <div class="col-sm-12">
            <ng-select   
              [ngClass]="{ 'error': submitted && f.homeNumberResidencePlace.errors}"
              [items]="homeNumberResidencePlace" 
              [clearable]="false"
              bindLabel="name"
              bindValue="name"
              placeholder="Đường"
              formControlName="homeNumberResidencePlace">
            </ng-select>
          </div>
          
          <div class="col-sm-12">
            <span *ngIf="submitted && f.homeNumberResidencePlace.errors"  class="invalid-form">
              <small class="form-text text-muted danger" >
                Không được bỏ trống </small>
            </span>
          </div>
        </div>
      </div>

      <div class="col-12 col-md-4">
        <div class="form-group ">
          <div class="col-sm-12 col-form-label">
            <label>ĐỊA CHỈ CỤ THỂ (SỐ NHÀ, NGÕ, NGÁCH, ...)</label>
          </div>
          <div class="col-sm-12">
            <div class="input-group input-group-merge">
              <input
              [ngClass]="{ 'error': submitted && f.streetResidencePlace.errors}"
                formControlName="streetResidencePlace"
                type="text"
                id="fname-icon-80"
                class="form-control"
                name="fname-icon-80"
                placeholder="TÊN ĐƯỜNG"
              />
            </div>
          </div>
          <div class="col-sm-12">
            <span *ngIf="submitted && f.streetResidencePlace.errors"  class="invalid-form">
              <small class="form-text text-muted danger" >
                Không được bỏ trống </small>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-12 button_summit d-flex justify-content-end pb-1">
    <button type="submit" rippleEffect class="btn btn-primary mr-1"  (click) = "onSubmit()" >Submit</button>
    <button type="reset" rippleEffect class="btn btn-outline-secondary">Reset</button>
  </div>
  
</form>
    
  