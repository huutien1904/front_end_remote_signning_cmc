<form class="form form-horizontal pt-0" [formGroup]="newOrganization">
  <!-- thông tin cá nhân -->
  <div class="form_content">
    <h3>Thông tin tài khoản</h3>
    <div class="row">
      <div class="col-12 col-lg-3">
        <div class="form-group">
          <div class="col-sm-12 col-form-label">
            <label>TÊN TÀI KHOẢN</label>
          </div>
          <div class="col-sm-12">
            <div
              class="input-group input-group-merge"
              [ngClass]="
                (f.username.errors && f.username?.touched) ||
                (submitted && f.username?.errors?.required)
                  ? 'is-invalid'
                  : ''
              "
            >
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i data-feather="user"></i
                ></span>
              </div>
              <input
                type="text"
                formControlName="username"
                class="form-control"
                [ngClass]="
                  (f.username.errors && f.username?.touched) ||
                  (submitted && f.username?.errors?.required)
                    ? 'is-invalid'
                    : ''
                "
              />
            </div>
          </div>
          <div class="col-sm-12">
            <span
              *ngIf="
                (f.username?.errors?.required && f.username?.touched) ||
                (submitted && f.username?.errors?.required)
              "
              class="invalid-form"
            >
              <small
                class="form-text text-danger"
                *ngIf="f.username.errors.required"
              >
                Bạn cần nhập tên tài khoản
              </small>
            </span>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-3">
        <div class="form-group">
          <div class="col-sm-12 col-form-label">
            <label>THƯ ĐIỆN TỬ (EMAIL)</label>
          </div>
          <div class="col-sm-12">
            <div
              class="input-group input-group-merge"
              [ngClass]="
                (f.email.errors && f.email?.touched) ||
                (submitted && f.email?.errors?.required)
                  ? 'is-invalid'
                  : ''
              "
            >
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i data-feather="mail"></i
                ></span>
              </div>
              <input
                type="text"
                formControlName="email"
                class="form-control"
                [ngClass]="
                  (f.email.errors && f.email?.touched) ||
                  (submitted && f.email?.errors?.required)
                    ? 'is-invalid'
                    : ''
                "
              />
            </div>
          </div>

          <div class="col-sm-12">
            <span
              *ngIf="
                (f.email?.errors?.required && f.email?.touched) ||
                (submitted && f.email?.errors?.required)
              "
              class="invalid-form"
            >
              <small
                class="form-text text-danger"
                *ngIf="f.email.errors.required"
              >
                Bạn cần nhập email
              </small>
            </span>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-3">
        <div class="form-group">
          <div class="col-sm-12 col-form-label">
            <label>MẬT KHẨU</label>
          </div>
          <div class="col-sm-12">
            <div
              class="input-group input-group-merge"
              [ngClass]="
                (f.password.errors && f.password?.touched) ||
                (submitted && f.password?.errors?.required)
                  ? 'is-invalid'
                  : ''
              "
            >
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i data-feather="lock"></i
                ></span>
              </div>
              <input
                type="password"
                formControlName="password"
                class="form-control"
                [ngClass]="
                  (f.password.errors && f.password?.touched) ||
                  (submitted && f.password?.errors?.required)
                    ? 'is-invalid'
                    : ''
                "
              />
            </div>
          </div>
          <div class="col-sm-12">
            <span
              *ngIf="
                (f.password?.errors?.required && f.password?.touched) ||
                (submitted && f.password?.errors?.required)
              "
              class="invalid-form"
            >
              <small
                class="form-text text-danger"
                *ngIf="f.password.errors.required"
              >
                Bạn cần nhập mật khẩu
              </small>
            </span>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-3">
        <div class="form-group">
          <div class="col-sm-12 col-form-label">
            <label>XÁC NHẬN MẬT KHẨU</label>
          </div>
          <div class="col-sm-12">
            <div
              class="input-group input-group-merge"
              [ngClass]="{
                'is-invalid':
                  (f.rePassword.errors && f.rePassword?.dirty) ||
                  (submitted && f.rePassword?.errors?.required),
                'is-valid':
                  !f.rePassword?.errors?.mustMatch && f.rePassword?.dirty
              }"
            >
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i data-feather="lock"></i
                ></span>
              </div>
              <input
                type="password"
                formControlName="rePassword"
                class="form-control"
                [ngClass]="{
                  'is-invalid':
                    (f.rePassword.errors && f.rePassword?.dirty) ||
                    (submitted && f.rePassword?.errors?.required),
                  'is-valid':
                    !f.rePassword?.errors?.mustMatch && f.rePassword?.dirty
                }"
              />
            </div>
          </div>
          <div class="col-sm-12">
            <span
              *ngIf="
                (f.rePassword.errors && f.rePassword?.dirty) ||
                (submitted && f.rePassword?.errors?.required)
              "
              class="invalid-form"
            >
              <small
                *ngIf="f.rePassword.errors.required"
                class="form-text text-danger"
              >
                Bạn cần xác nhận mật khẩu
              </small>
              <small
                *ngIf="f.rePassword.errors.mustMatch"
                class="form-text text-danger"
              >
                Xác nhận mật khẩu không hợp lệ
              </small>
            </span>
          </div>
          <div class="col-sm-12">
            <span *ngIf="f.rePassword.errors == null" class="invalid-form">
              <small
                *ngIf="f.rePassword.errors == null"
                class="valid-feedback form-text"
              >
                Xác nhận mật khẩu hợp lệ
              </small>
            </span>
          </div>
        </div>
      </div>
    </div>
    <h3>Thông tin tổ chức</h3>
    <div class="row">
      <div class="col-11 col-lg-2">
        <div class="">
          <input
            #imageInput
            type="file"
            style="display: none"
            accept="image/png, image/jpeg, image/jpg"
            (change)="inputImage($event)"
          />
        </div>
        <div class="h-100">
          <div class="border border-dark h-75 w-100 mt-1 ml-1 mr-1 mb-1">
            <img
              class="w-100 h-100"
              (click)="imageInput.click()"
              [src]="
                image ? image : 'assets/images/portrait/small/avatar-s-11.jpg'
              "
              alt="Upload Image"
            />
          </div>
          <div class="text-center mb-1 ml-1">
            <span>Ảnh đại diện</span>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-10">
        <div class="row mt-1">
          <div class="col-12 col-lg-3">
            <div class="form-group">
              <div class="col-sm-12 col-form-label">
                <label>TÊN TỔ CHỨC</label>
              </div>
              <div class="col-sm-12">
                <div
                  class="input-group input-group-merge"
                  [ngClass]="
                    (f.organizationName.errors &&
                      f.organizationName?.touched) ||
                    (submitted && f.organizationName?.errors?.required)
                      ? 'is-invalid'
                      : ''
                  "
                >
                  <input
                    [ngClass]="
                      (f.organizationName.errors &&
                        f.organizationName?.touched) ||
                      (submitted && f.organizationName?.errors?.required)
                        ? 'is-invalid'
                        : ''
                    "
                    formControlName="organizationName"
                    type="text"
                    id="fname-icon-1"
                    class="form-control"
                    name="fname-icon-1"
                    placeholder="Tên tổ chức"
                  />
                </div>
              </div>
              <div class="col-sm-12">
                <span
                  *ngIf="
                    (submitted && f.organizationName.errors) ||
                    (f.organizationName.errors && f.organizationName?.touched)
                  "
                  class="invalid-form"
                >
                  <small class="form-text text-danger">
                    Không được bỏ trống
                  </small>
                </span>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-3">
            <div class="form-group">
              <div class="col-sm-12 col-form-label">
                <label>MÃ TỔ CHỨC</label>
              </div>
              <div class="col-sm-12">
                <div
                  [ngClass]="
                    (f.countryOrganizationId.errors &&
                      f.countryOrganizationId?.touched) ||
                    (submitted && f.countryOrganizationId?.errors?.required)
                      ? 'is-invalid'
                      : ''
                  "
                  class="input-group input-group-merge"
                >
                  <input
                    [ngClass]="
                      (f.countryOrganizationId.errors &&
                        f.countryOrganizationId?.touched) ||
                      (submitted && f.countryOrganizationId?.errors?.required)
                        ? 'is-invalid'
                        : ''
                    "
                    formControlName="countryOrganizationId"
                    type="text"
                    id="fname-icon-5"
                    class="form-control"
                    name="fname-icon-5"
                  />
                </div>
              </div>
              <div class="col-sm-12">
                <span
                  *ngIf="
                    (submitted && f.countryOrganizationId.errors) ||
                    (f.countryOrganizationId.errors &&
                      f.countryOrganizationId?.touched)
                  "
                  class="invalid-form"
                >
                  <small class="form-text text-danger">
                    Không được bỏ trống
                  </small>
                </span>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-3">
            <div class="form-group">
              <div class="col-sm-12 col-form-label">
                <label class="lable">LOẠI TỔ CHỨC</label>
              </div>
              <div class="col-sm-12">
                <ng-select
                  [items]="typeOrganization"
                  [clearable]="false"
                  bindLabel="subscriberCategoryName"
                  bindValue="subscriberCategoryId"
                  formControlName="typeOrganization"
                  [ngClass]="
                    (f.typeOrganization.errors &&
                      f.typeOrganization?.touched) ||
                    (submitted && f.typeOrganization?.errors?.required)
                      ? 'is-invalid'
                      : ''
                  "
                >
                  >
                </ng-select>
              </div>
              <div class="col-sm-12">
                <span
                  *ngIf="
                    (f.typeOrganization.errors &&
                      f.typeOrganization?.touched) ||
                    (submitted && f.typeOrganization?.errors?.required)
                  "
                  class="invalid-form"
                >
                  <small class="form-text text-danger">
                    Không được bỏ trống</small
                  >
                </span>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-3">
            <div class="form-group">
              <div class="col-sm-12 col-form-label">
                <label>TÊN NGƯỜI ĐẠI DIỆN</label>
              </div>
              <div class="col-sm-12">
                <div
                  class="input-group input-group-merge"
                  [ngClass]="
                    (f.leaderName.errors && f.leaderName?.touched) ||
                    (submitted && f.leaderName?.errors?.required)
                      ? 'is-invalid'
                      : ''
                  "
                >
                  <input
                    [ngClass]="
                      (f.leaderName.errors && f.leaderName?.touched) ||
                      (submitted && f.leaderName?.errors?.required)
                        ? 'is-invalid'
                        : ''
                    "
                    formControlName="leaderName"
                    type="text"
                    id="fname-icon-4"
                    class="form-control"
                    name="fname-icon-4"
                  />
                </div>
              </div>
              <div class="col-sm-12">
                <span
                  *ngIf="
                    (submitted && f.leaderName.errors) ||
                    (f.leaderName.errors && f.leaderName?.touched)
                  "
                  class="invalid-form"
                >
                  <small class="form-text text-danger">
                    Không được bỏ trống
                  </small>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="row mt-1">
          <div class="col-12 col-lg-3">
            <div class="form-group">
              <div class="col-sm-12 col-form-label">
                <label class="lable">CHỨC DANH</label>
              </div>
              <div class="col-sm-12">
                <input
                  formControlName="position"
                  placeholder="Chức danh"
                  type="text"
                  class="form-control"
                />
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-3">
            <div class="form-group">
              <div class="col-sm-12 col-form-label">
                <label class="lable">TÊN TỔ CHỨC CẤP TRÊN</label>
              </div>
              <div class="col-sm-12">
                <ng-select
                  [items]="organizationId"
                  [clearable]="false"
                  bindLabel="organizationName"
                  bindValue="organizationId"
                  formControlName="organizationId"
                >
                  >
                </ng-select>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-3">
            <div class="form-group">
              <div class="col-sm-12 col-form-label">
                <label class="lable">SỐ ĐIỆN THOẠI</label>
              </div>
              <div class="col-sm-12">
                <div
                  class="input-group input-group-merge"
                  [ngClass]="
                    (f.phoneNumber.errors && f.phoneNumber?.touched) ||
                    (submitted && f.phoneNumber?.errors?.required)
                      ? 'is-invalid'
                      : ''
                  "
                >
                  <div class="input-group-prepend">
                    <span class="input-group-text"
                      ><i data-feather="phone-call"></i
                    ></span>
                  </div>
                  <input
                    formControlName="phoneNumber"
                    type="text"
                    class="form-control"
                    placeholder="Số điện thoại"
                    appRemoveSpace
                    [ngClass]="
                      (f.phoneNumber.errors && f.phoneNumber?.touched) ||
                      (submitted && f.phoneNumber?.errors?.required)
                        ? 'is-invalid'
                        : ''
                    "
                  />
                </div>
              </div>
              <div class="col-sm-12">
                <span
                  *ngIf="
                    (f.phoneNumber.errors && f.phoneNumber?.touched) ||
                    (submitted && f.phoneNumber?.errors?.required)
                  "
                  class="invalid-form"
                >
                  <small
                    class="form-text text-danger"
                    *ngIf="f.phoneNumber.errors.minLength"
                  >
                    Phải đủ 10 số
                  </small>
                  <small
                    class="form-text text-danger"
                    *ngIf="f.phoneNumber.errors.required"
                  >
                    Không được bỏ trống
                  </small>
                  <small
                    class="form-text text-danger"
                    *ngIf="f.phoneNumber.errors.pattern"
                  >
                    Số điện thoại chưa đúng
                  </small>
                </span>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-3">
            <div class="form-group">
              <div class="col-sm-12 col-form-label">
                <label>WEBSITE</label>
              </div>
              <div class="col-sm-12">
                <div
                  class="input-group input-group-merge"
                  [ngClass]="
                    (f.website.errors && f.website?.touched) ||
                    (submitted && f.website?.errors?.required)
                      ? 'is-invalid'
                      : ''
                  "
                >
                  <div class="input-group-prepend">
                    <span class="input-group-text"
                      ><span [data-feather]="'globe'"></span
                    ></span>
                  </div>
                  <input
                    [ngClass]="
                      (f.website.errors && f.website?.touched) ||
                      (submitted && f.website?.errors?.required)
                        ? 'is-invalid'
                        : ''
                    "
                    formControlName="website"
                    type="text"
                    id="fname-icon-3"
                    class="form-control"
                    name="fname-icon-3"
                    placeholder="cmc.com.vn"
                  />
                </div>
              </div>
              <div class="col-sm-12">
                <span
                  *ngIf="
                    (submitted && f.website.errors) ||
                    (f.website.errors && f.website?.touched)
                  "
                  class="invalid-form"
                >
                  <small
                    class="form-text text-danger"
                    *ngIf="f.website.errors.required"
                  >
                    Không được bỏ trống
                  </small>
                  <small
                    class="form-text text-danger"
                    *ngIf="f.website.errors.pattern"
                  >
                    Website chưa đúng !
                  </small>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <h3>Địa chỉ</h3>
    <div class="row">
      <div class="col-12 col-lg-3">
        <div class="form-group">
          <div class="col-sm-12 col-form-label">
            <label class="lable">QUỐC GIA</label>
          </div>
          <div class="col-sm-12">
            <ng-select
              [ngClass]="
                (f.country.errors && f.country?.touched) ||
                (submitted && f.country?.errors?.required)
                  ? 'is-invalid'
                  : ''
              "
              [items]="country"
              bindLabel="countryName"
              bindValue="countryId"
              [clearable]="false"
              placeholder="Việt Nam"
              formControlName="country"
            >
            </ng-select>
          </div>
          <div class="col-sm-12">
            <span *ngIf="submitted && f.country.errors" class="invalid-form">
              <small class="form-text text-danger"> Không được bỏ trống </small>
            </span>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-3">
        <div class="form-group">
          <div class="col-sm-12 col-form-label">
            <label class="label">TỈNH/THÀNH PHỐ </label>
          </div>
          <div class="col-sm-12">
            <ng-select
              [ngClass]="
                (f.province.errors && f.province?.touched) ||
                (submitted && f.province?.errors?.required)
                  ? 'is-invalid'
                  : ''
              "
              [items]="province"
              bindLabel="provinceDisplay"
              bindValue="provinceId"
              [clearable]="false"
              placeholder="Tỉnh/Thành phố"
              formControlName="province"
              (change)="selectProvince()"
            >
              <ng-template ng-header-tmp>
                <div>
                  <button
                    class="btn btn-flat-success cursor-pointer rounded-0 text-left p-50 w-100"
                    (click)="modalOpenCreateStreet(modalOpenCreateProvince)"
                  >
                    <i data-feather="plus"></i>
                    <span class="align-middle ml-25">Thêm Tỉnh/Thành phố</span>
                  </button>
                </div>
              </ng-template>
              <ng-template #modalOpenCreateProvince let-modal>
                <div class="modal-header">
                  <h5 class="modal-title" id="myModalLabel160">
                    Thêm mới Tỉnh/Thành phố
                  </h5>
                  <button
                    type="button"
                    class="close"
                    (click)="modal.dismiss('Cross click')"
                    aria-label="Close"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" tabindex="0" ngbAutofocus>
                  <div class="form-group">
                    <small class="text-muted"> Ví dụ:<i>Đà Nẵng</i></small>
                    <input
                      type="text"
                      name="addProvince"
                      id="addProvince"
                      #addProvince
                      class="form-control"
                    />
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-success"
                    data-dismiss="closeModal"
                    rippleEffect
                  >
                    Thêm
                  </button>
                </div>
              </ng-template>
            </ng-select>
          </div>
          <div class="col-sm-12">
            <span
              *ngIf="
                (f.province.errors && f.province?.touched) ||
                (submitted && f.province?.errors?.required)
              "
              class="invalid-form"
            >
              <small class="form-text text-danger"> Không được bỏ trống</small>
            </span>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-3">
        <div class="form-group">
          <div class="col-sm-12 col-form-label">
            <label class="lable">QUẬN/HUYỆN</label>
          </div>
          <div
            class="col-sm-12"
            [ngbTooltip]="
              f.province.disabled == true || f.province.value == null
                ? 'Phải chọn Thành phố/Tỉnh trước khi chọn Quận/Huyện.'
                : ''
            "
            placement="top"
          >
            <ng-select
              [ngClass]="
                (f.district.errors && f.district?.touched) ||
                (submitted && f.district?.errors?.required)
                  ? 'is-invalid'
                  : ''
              "
              [items]="district"
              bindLabel="districtDisplay"
              bindValue="districtId"
              [clearable]="false"
              placeholder="Huyện"
              formControlName="district"
              (change)="selectDistrict()"
            >
              <ng-template ng-header-tmp>
                <div>
                  <button
                    class="btn btn-flat-success cursor-pointer rounded-0 text-left p-50 w-100"
                    (click)="modalOpenCreateStreet(modalOpenCreateDistrict)"
                  >
                    <i data-feather="plus"></i>
                    <span class="align-middle ml-25">Thêm Quận/Huyện</span>
                  </button>
                </div>
              </ng-template>
              <ng-template #modalOpenCreateDistrict let-modal>
                <div class="modal-header">
                  <h5 class="modal-title" id="myModalLabel160">
                    Thêm mới Quận/Huyện
                  </h5>
                  <button
                    type="button"
                    class="close"
                    (click)="modal.dismiss('Cross click')"
                    aria-label="Close"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" tabindex="0" ngbAutofocus>
                  <div class="form-group">
                    <small class="text-muted"> Ví dụ:<i>Sơn Trà</i></small>
                    <input
                      type="text"
                      name="addDistrict"
                      id="addDistrict"
                      #addDistrict
                      class="form-control"
                    />
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-success"
                    data-dismiss="closeModal"
                    rippleEffect
                  >
                    Thêm
                  </button>
                </div>
              </ng-template>
            </ng-select>
          </div>
          <div class="col-sm-12">
            <span
              *ngIf="
                (f.district.errors && f.district?.touched) ||
                (submitted && f.district?.errors?.required)
              "
              class="invalid-form"
            >
              <small class="form-text text-danger"> Không được bỏ trống</small>
            </span>
          </div>
        </div>
      </div>
      <div class="col-12 col-md-3">
        <div class="form-group">
          <div class="col-sm-12 col-form-label">
            <label class="lable">XÃ/PHƯỜNG</label>
          </div>
          <div
            class="col-sm-12"
            [ngbTooltip]="
              f.district.disabled == true || f.district.value == null
                ? 'Phải chọn Quận/Huyện trước khi chọn Xã/Phường'
                : ''
            "
            placement="top"
          >
            <ng-select
              [ngClass]="
                (f.commune.errors && f.commune?.touched) ||
                (submitted && f.commune?.errors?.required)
                  ? 'is-invalid'
                  : ''
              "
              [items]="commune"
              bindLabel="communeDisplay"
              bindValue="communeId"
              [clearable]="false"
              placeholder="Xã"
              formControlName="commune"
              (change)="selectCommune()"
            >
              <ng-template ng-header-tmp>
                <div>
                  <button
                    class="btn btn-flat-success cursor-pointer rounded-0 text-left p-50 w-100"
                    (click)="modalOpenCreateStreet(modalOpenCreateCommune)"
                  >
                    <i data-feather="plus"></i>
                    <span class="align-middle ml-25">Thêm Xã/Phường</span>
                  </button>
                </div>
              </ng-template>
              <ng-template #modalOpenCreateCommune let-modal>
                <div class="modal-header">
                  <h5 class="modal-title" id="myModalLabel160">
                    Thêm mới Xã/Phường
                  </h5>
                  <button
                    type="button"
                    class="close"
                    (click)="modal.dismiss('Cross click')"
                    aria-label="Close"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" tabindex="0" ngbAutofocus>
                  <div class="form-group">
                    <small class="text-muted"> Ví dụ:<i>Thọ Quang</i></small>
                    <input
                      type="text"
                      name="addCommune"
                      id="addCommune"
                      #addCommune
                      class="form-control"
                    />
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-success"
                    data-dismiss="closeModal"
                    rippleEffect
                  >
                    Thêm
                  </button>
                </div>
              </ng-template>
            </ng-select>
          </div>
          <div class="col-sm-12">
            <span
              *ngIf="
                (f.commune.errors && f.commune?.touched) ||
                (submitted && f.commune?.errors?.required)
              "
              class="invalid-form"
            >
              <small class="form-text text-danger"> Không được bỏ trống</small>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-lg-3">
        <div class="form-group">
          <div class="col-sm-12 col-form-label">
            <label>ĐƯỜNG/PHỐ</label>
          </div>
          <div
            class="col-sm-12"
            [ngbTooltip]="
              f.commune.disabled == true || f.commune.value == null
                ? 'Phải chọn Xã/Phường trước khi chọn đường.'
                : ''
            "
            placement="top"
          >
            <ng-select
              [ngClass]="
                (f.street.errors && f.street?.touched) ||
                (submitted && f.street?.errors?.required)
                  ? 'is-invalid'
                  : ''
              "
              [items]="street"
              bindLabel="streetName"
              bindValue="streetId"
              [clearable]="false"
              placeholder="Đường"
              formControlName="street"
              (change)="selectStreet()"
            >
              <ng-template ng-header-tmp>
                <div
                  [ngbTooltip]="
                    f.commune.value == null
                      ? 'Phải chọn Xã/Phường trước khi thêm đường.'
                      : ''
                  "
                  placement="right"
                >
                  <button
                    class="btn btn-flat-success cursor-pointer rounded-0 text-left p-50 w-100"
                    (click)="modalOpenCreateStreet(modalOpenStreet)"
                    [disabled]="f.commune.value == null"
                  >
                    <i data-feather="plus"></i>
                    <span class="align-middle ml-25">Thêm Đường</span>
                  </button>
                </div>
              </ng-template>
              <ng-template #modalOpenStreet let-modal>
                <div class="modal-header">
                  <h5 class="modal-title" id="myModalLabel160">
                    Thêm mới thông tin Đường
                  </h5>
                  <button
                    type="button"
                    class="close"
                    (click)="modal.dismiss('Cross click')"
                    aria-label="Close"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" tabindex="0" ngbAutofocus>
                  <div class="form-group">
                    <small class="text-muted">
                      Ví dụ:<i>Trần Hưng Đạo</i></small
                    >
                    <input
                      type="text"
                      name="addStreet"
                      id="addStreet"
                      #addStreet
                      class="form-control"
                    />
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-success"
                    (click)="
                      onSubmitCreateStreet(addStreet.value)
                        ? modal.close()
                        : false
                    "
                    data-dismiss="closeModal"
                    rippleEffect
                  >
                    Thêm
                  </button>
                </div>
              </ng-template>
            </ng-select>
          </div>
          <div class="col-sm-12">
            <span
              *ngIf="
                (f.street.errors && f.street?.touched) ||
                (submitted && f.street?.errors?.required)
              "
              class="invalid-form"
            >
              <small class="form-text text-danger"> Không được bỏ trống</small>
            </span>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-3">
        <div class="form-group">
          <div class="col-sm-12 col-form-label">
            <label>ĐỊA CHỈ CỤ THỂ</label>
          </div>
          <div
            class="col-sm-12"
            [ngbTooltip]="
              f.street.disabled == true || f.street.value == null
                ? 'Phải chọn Xã/Phường trước khi chọn đường'
                : ''
            "
            placement="top"
          >
            <div class="input-group input-group-merge">
              <input
                formControlName="homeNumber"
                [ngClass]="{ error_icon: submitted && f.homeNumber.errors }"
                type="text"
                id="fname-icon"
                class="form-control"
                name="fname-icon"
                placeholder="83 Yên Phúc ,Hà Đông ,Hà Nội"
              />
            </div>
          </div>
          <div class="col-sm-12">
            <span
              *ngIf="
                (f.homeNumber.errors && f.homeNumber?.touched) ||
                (submitted && f.homeNumber?.errors?.required)
              "
              class="invalid-form"
            >
              <small class="form-text text-danger"> Không được bỏ trống</small>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-12 d-flex justify-content-end pb-1">
    <button
      type="submit"
      rippleEffect
      class="btn btn-primary mr-1"
      (click)="onSubmit()"
    >
      Tạo thuê bao
    </button>
    <button
      rippleEffect
      class="btn btn-outline-secondary mr-1"
      (click)="toggleSidebar()"
    >
      Quay lại
    </button>
  </div>
</form>
