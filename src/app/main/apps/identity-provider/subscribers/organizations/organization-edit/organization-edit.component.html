<div class="content-wrapper container-xxl p-0">
  <div class="content-body">
    <section id="profile-header">
      <div class="profile-header">
        <app-content-header
          [contentHeader]="contentHeader"
        ></app-content-header>
        <!-- search profile -->
      </div>
    </section>
    <section id="table-organization-list">
      <div class="card">
        <div class="card-body">
          <ul ngbNav #nav="ngbNav" class="nav nav-pills">
            <li ngbNavItem>
              <a ngbNavLink class="d-flex align-items-center"
                ><i data-feather="user" class="mr-sm-50"></i
                ><span class="d-none d-sm-block">Thông tin tài khoản</span></a
              >
              <ng-template ngbNavContent>
                <!-- Account Tab starts -->
                <div
                  class="tab-pane active"
                  id="account"
                  aria-labelledby="account-tab"
                  role="tabpanel"
                >
                  <!-- users edit media object start -->
                  <div class="media mb-2">
                    <div
                      *ngIf="currentUser.avatar.length > 0; else customAvatar"
                    >
                      <img
                        class="user-avatar users-avatar-shadow rounded mr-2 my-25 cursor-pointer"
                        src="assets/images/portrait/small/avatar-s-11.jpg"
                        height="90"
                        width="90"
                        alt="User avatar"
                      />
                    </div>
                    <ng-template #customAvatar>
                      <div class="mr-1 ml-0">
                        <!-- <div class="rounded p-3">
                                    {{ lastName.fullName | initials }}
                                  </div> -->
                      </div>
                    </ng-template>
                    <div class="media-body mt-50">
                      <h4 *ngIf="this.personal != null">
                        {{ this.personal.username }}
                      </h4>
                      <div class="col-12 d-flex mt-1 px-0">
                        <label
                          class="btn btn-primary mr-75 mb-0"
                          for="change-picture"
                        >
                          <span class="d-none d-sm-block">Thay đổi</span>
                          <input
                            class="form-control"
                            type="file"
                            id="change-picture"
                            hidden
                            accept="image/png, image/jpeg, image/jpg"
                            (change)="uploadImage($event)"
                          />
                          <span class="d-block d-sm-none">
                            <i class="mr-0" data-feather="edit"></i>
                          </span>
                        </label>
                        <button
                          class="btn btn-outline-secondary d-none d-sm-block"
                          rippleEffect
                        >
                          Xóa
                        </button>
                        <button
                          class="btn btn-outline-secondary d-block d-sm-none"
                        >
                          <i class="mr-0" data-feather="trash-2"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                  <!-- users edit media object ends -->
                  <!-- users edit account form start -->
                  <form class="form" [formGroup]="formOrganizationEdit">
                    <div class="row">
                      <!-- user name -->
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="first-name-column">USERNAME</label>
                          <input
                            type="text"
                            id="first-name-column"
                            class="form-control"
                            name="fname-column"
                            formControlName="username"
                            [readonly]="true"
                          />
                        </div>
                      </div>
                      <!-- email -->
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="first-name-column">EMAIL</label>
                          <input
                            type="text"
                            id="first-name-column"
                            class="form-control"
                            placeholder="EMAIL"
                            name="fname-column"
                            formControlName="email"
                            [readonly]="true"
                          />
                        </div>
                      </div>
                      <!-- Tên tổ chức -->
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="first-name-colums">Tên tổ chức</label>
                          <input
                            type="text"
                            id="first-name-column"
                            class="form-control"
                            name="fname-column"
                            formControlName="organizationName"
                            [readonly]="true"
                          />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="first-name-colums">Loại tổ chức</label>
                          <input
                            type="text"
                            id="first-name-column"
                            class="form-control"
                            name="fname-column"
                            formControlName="subscriberCategoryName"
                            [readonly]="true"
                          />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="first-name-colums"
                            >Tên tổ chức quốc gia</label
                          >
                          <input
                            type="text"
                            id="first-name-column"
                            class="form-control"
                            name="fname-column"
                            formControlName="countryOrganizationId"
                            [readonly]="true"
                          />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="first-name-colums">Tên tổ chức mẹ</label>
                          <input
                            type="text"
                            id="first-name-column"
                            class="form-control"
                            name="fname-column"
                            formControlName="parentOrganizationName"
                            [readonly]="true"
                          />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="first-name-colums">Website</label>
                          <input
                            type="text"
                            id="first-name-column"
                            class="form-control"
                            placeholder="Website"
                            name="fname-column"
                            formControlName="website"
                            [readonly]="true"
                          />
                        </div>
                      </div>
                      <div class="col-md-3">
                        <div class="form-group">
                          <label for="first-name-colums">Điện thoại</label>
                          <input
                            type="text"
                            id="first-name-column"
                            class="form-control"
                            placeholder="phoneNumber"
                            name="fname-column"
                            formControlName="phoneNumber"
                            [readonly]="true"
                          />
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
                <!-- Account Tab ends -->
              </ng-template>
            </li>
            <li ngbNavItem>
              <a ngbNavLink class="d-flex align-items-center">
                <i data-feather="info" class="mr-sm-50"></i
                ><span class="d-none d-sm-block">Thông tin thuê bao</span></a
              >
              <ng-template ngbNavContent>
                <!-- Account Tab starts -->
                <div
                  class="tab-pane active"
                  id="account"
                  aria-labelledby="account-tab"
                  role="tabpanel"
                >
                  <!-- users edit account form start -->

                  <form
                    class="form form-horizontal"
                    id="form-personal"
                    [formGroup]="formOrganizationEdit"
                  >
                    <div class="form_content">
                      <h3>Thông tin cá nhân</h3>
                      <div class="row">
                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">USERNAME</label>
                            </div>
                            <div class="col-sm-12">
                              <div
                                class="input-group input-group-merge"
                                [ngClass]="
                                  (f.username.errors && f.username?.touched) ||
                                  (submitted && f.username?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                              >
                                <div class="input-group-prepend">
                                  <span class="input-group-text"
                                    ><i data-feather="user"></i
                                  ></span>
                                </div>
                                <input
                                  formControlName="username"
                                  placeholder="USERNAME"
                                  type="text"
                                  class="form-control"
                                  [ngClass]="
                                    (f.username.errors &&
                                      f.username?.touched) ||
                                    (submitted && f.username?.errors?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                />
                              </div>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.username?.errors?.required &&
                                    f.username?.touched) ||
                                  (submitted && f.username?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small
                                  class="form-text text-danger"
                                  *ngIf="f.username.errors.required"
                                >
                                  Không được bỏ trống
                                </small>
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">EMAIL</label>
                            </div>
                            <div class="col-sm-12">
                              <div
                                class="input-group input-group-merge"
                                [ngClass]="
                                  (f.email.errors && f.email?.touched) ||
                                  (submitted && f.email?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                              >
                                <div class="input-group-prepend">
                                  <span class="input-group-text"
                                    ><i data-feather="mail"></i
                                  ></span>
                                </div>
                                <input
                                  formControlName="email"
                                  type="text"
                                  class="form-control"
                                  placeholder="EMAIL"
                                  [ngClass]="
                                    (f.email.errors && f.email?.touched) ||
                                    (submitted && f.email?.errors?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                />
                              </div>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.email.errors?.required &&
                                    f.email.touched) ||
                                  (submitted && f.email?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  Không được bỏ trống
                                </small>
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">TÊN TỔ CHỨC</label>
                            </div>
                            <div class="col-sm-12">
                              <div
                                class="input-group input-group-merge"
                                [ngClass]="
                                  (f.organizationName.errors &&
                                    f.organizationName?.touched) ||
                                  (submitted &&
                                    f.organizationName?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                              >
                                <div class="input-group-prepend">
                                  <span class="input-group-text"
                                    ><i data-feather="user"></i
                                  ></span>
                                </div>
                                <input
                                  formControlName="organizationName"
                                  type="text"
                                  class="form-control"
                                  placeholder="Tên tổ chức"
                                  [ngClass]="
                                    (f.organizationName.errors &&
                                      f.organizationName?.touched) ||
                                    (submitted &&
                                      f.organizationName?.errors?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                />
                              </div>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.organizationName.errors &&
                                    f.organizationName?.touched) ||
                                  (submitted &&
                                    f.organizationName?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  Không được bỏ trống
                                </small>
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">Loại tổ chức</label>
                            </div>
                            <div class="col-sm-12">
                              <div
                                class="input-group input-group-merge"
                                [ngClass]="
                                  (f.subscriberCategoryName.errors &&
                                    f.subscriberCategoryName?.touched) ||
                                  (submitted &&
                                    f.subscriberCategoryName?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                              >
                                <div class="input-group-prepend">
                                  <span class="input-group-text"
                                    ><i data-feather="user"></i
                                  ></span>
                                </div>
                                <input
                                  appRemoveSpace
                                  formControlName="subscriberCategoryName"
                                  type="text"
                                  class="form-control"
                                  [ngClass]="
                                    (f.subscriberCategoryName.errors &&
                                      f.subscriberCategoryName?.touched) ||
                                    (submitted &&
                                      f.subscriberCategoryName?.errors
                                        ?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                />
                              </div>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.subscriberCategoryName.errors &&
                                    f.subscriberCategoryName?.touched) ||
                                  (submitted &&
                                    f.subscriberCategoryName?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small
                                  class="form-text text-danger"
                                  *ngIf="
                                    f.subscriberCategoryName.errors.required
                                  "
                                >
                                  Không được bỏ trống
                                </small>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">Tên tổ chức quốc gia</label>
                            </div>
                            <div class="col-sm-12">
                              <div
                                class="input-group input-group-merge"
                                [ngClass]="
                                  (f.countryOrganizationId.errors &&
                                    f.countryOrganizationId?.touched) ||
                                  (submitted &&
                                    f.countryOrganizationId?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                              >
                                <div class="input-group-prepend">
                                  <span class="input-group-text"
                                    ><i data-feather="user"></i
                                  ></span>
                                </div>
                                <input
                                  appRemoveSpace
                                  formControlName="countryOrganizationId"
                                  type="text"
                                  class="form-control"
                                  [ngClass]="
                                    (f.countryOrganizationId.errors &&
                                      f.countryOrganizationId?.touched) ||
                                    (submitted &&
                                      f.countryOrganizationId?.errors?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                />
                              </div>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.countryOrganizationId.errors?.required &&
                                    f.countryOrganizationId?.touched) ||
                                  (submitted &&
                                    f.countryOrganizationId?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small
                                  class="form-text text-danger"
                                  *ngIf="f.countryOrganizationId.invalid"
                                >
                                  Điền đúng cú pháp. Ví dụ: CMC123
                                </small>
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-md-3">
                            <div class="form-group">
                              <div class="col-sm-12 col-form-label">
                                <label class="lable">Tên tổ chức mẹ</label>
                              </div>
                              <div class="col-sm-12">
                                <div
                                  class="input-group input-group-merge"
                                  [ngClass]="
                                    (f.parentOrganizationName.errors &&
                                      f.parentOrganizationName?.touched) ||
                                    (submitted &&
                                      f.parentOrganizationName?.errors?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                >
                                  <div class="input-group-prepend">
                                    <span class="input-group-text"
                                      ><i data-feather="user"></i
                                    ></span>
                                  </div>
                                  <input
                                    appRemoveSpace
                                    formControlName="parentOrganizationName"
                                    type="text"
                                    class="form-control"
                                    [ngClass]="
                                      (f.parentOrganizationName.errors &&
                                        f.parentOrganizationName?.touched) ||
                                      (submitted &&
                                        f.parentOrganizationName?.errors
                                          ?.required)
                                        ? 'is-invalid'
                                        : ''
                                    "
                                  />
                                </div>
                              </div>
                              <div class="col-sm-12">
                                <span
                                  *ngIf="
                                    (f.parentOrganizationName.errors &&
                                      f.parentOrganizationName?.touched) ||
                                    (submitted &&
                                      f.parentOrganizationName?.errors?.required)
                                  "
                                  class="invalid-form"
                                >
                                  <small class="form-text text-danger">
                                    Không được bỏ trống</small
                                  >
                                </span>
                              </div>
                            </div>
                        </div>
                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">SỐ ĐIỆN THOẠI</label>
                            </div>
                            <div class="col-sm-12">
                              <div
                                class="input-group input-group-merge"
                                [ngClass]="
                                  (f.phoneNumber.errors &&
                                    f.phoneNumber?.touched) ||
                                  (submitted && f.phoneNumber?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                              >
                                <div class="input-group-prepend">
                                  <span class="input-group-text"
                                    ><i data-feather="phone-call"></i
                                  ></span>
                                </div>
                                <input
                                  formControlName="phoneNumber"
                                  type="text"
                                  class="form-control"
                                  placeholder="Phone Number"
                                  appRemoveSpace
                                  [ngClass]="
                                    (f.phoneNumber.errors &&
                                      f.phoneNumber?.touched) ||
                                    (submitted &&
                                      f.phoneNumber?.errors?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                />
                              </div>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.phoneNumber.errors &&
                                    f.phoneNumber?.touched) ||
                                  (submitted && f.phoneNumber?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small
                                  class="form-text text-danger"
                                  *ngIf="f.phoneNumber.errors.minLength"
                                >
                                  Phải đủ 10 số
                                </small>
                                <small
                                  class="form-text text-danger"
                                  *ngIf="f.phoneNumber.errors.required"
                                >
                                  Không được bỏ trống
                                </small>

                                <small
                                  class="form-text text-danger"
                                  *ngIf="f.phoneNumber.errors.pattern"
                                >
                                  Số điện thoại chưa đúng
                                </small>
                              </span>
                              <span
                                *ngIf="f.phoneNumber.errors"
                                class="invalid-form"
                              >
                                <small
                                  class="form-text text-danger"
                                  *ngIf="f.phoneNumber.errors.minLength"
                                >
                                  Phải đủ 10 số
                                </small>
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">Website</label>
                            </div>
                            <div class="col-sm-12">
                              <div
                                class="input-group input-group-merge"
                                [ngClass]="
                                  (f.website.errors &&
                                    f.website?.touched) ||
                                  (submitted && f.website?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                              >
                                <div class="input-group-prepend">
                                  <span class="input-group-text"
                                    ><i data-feather="globe"></i
                                  ></span>
                                </div>
                                <input
                                  formControlName="website"
                                  type="text"
                                  class="form-control"
                                  placeholder="Website"
                                  appRemoveSpace
                                  [ngClass]="
                                    (f.website.errors &&
                                      f.website?.touched) ||
                                    (submitted &&
                                      f.website?.errors?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                />
                              </div>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.website.errors && f.website?.touched) ||
                                  (submitted && f.website?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  Không được bỏ trống</small
                                >
                              </span>
                            </div>
                          </div>
                        </div>
                      </div>
                      <h3>Địa chỉ liên hệ</h3>
                       <!-- <div class="row"> 
                        <div class="col-12 col-md-2">
                          <div class="form-group" [formGroup]="formAddress">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">QUỐC GIA</label>
                            </div>
                            <div class="col-sm-12">
                              <ng-select
                                [ngClass]="
                                  (f.countryCode.errors &&
                                    f.countryCode?.touched) ||
                                  (submitted &&
                                    f.countryCode?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                                [items]="countryCode"
                                bindLabel="countryName"
                                bindValue="countryId"
                                [clearable]="false"
                                placeholder="Quốc gia"
                                formControlName="countryCode"
                              >
                              </ng-select>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.countryCode.errors &&
                                    f.countryCode?.touched) ||
                                  (submitted &&
                                    f.countryCode?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  Không được bỏ trống</small
                                >
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">TỈNH/THÀNH PHỐ</label>
                            </div>
                            <div class="col-sm-12">
                              <ng-select
                                [ngClass]="
                                  (f.provinceName.errors &&
                                    f.provinceName?.touched) ||
                                  (submitted &&
                                    f.provinceName?.errors?.required)
                                    ? 'is-invalid'
                                    : 'is-valid'
                                "
                                [items]="provinceName"
                                [clearable]="false"
                                bindLabel="provinceDisplay"
                                placeholder="Tỉnh/Thành phố"
                                bindValue="provinceId"
                                formControlName="provinceName"
                                
                              >
                              </ng-select>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.provinceName.errors &&
                                    f.provinceName?.touched) ||
                                  (submitted &&
                                    f.provinceName?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  Không được bỏ trống</small
                                >
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">QUẬN/HUYỆN</label>
                            </div>
                            <div
                              class="col-sm-12"
                              [ngbTooltip]="
                                f.provinceBirthPlace.disabled == true ||
                                f.provinceBirthPlace.value == null
                                  ? 'Phải chọn Thành phố/Tỉnh trước khi chọn Quận/Huyện'
                                  : ''
                              "
                              placement="top"
                            >
                              <ng-select
                                [items]="districtBirthPlace"
                                [clearable]="false"
                                bindLabel="districtDisplay"
                                bindValue="districtId"
                                placeholder="Huyện"
                                formControlName="districtBirthPlace"
                                (change)="selectDistrict(1)"
                                [ngClass]="
                                  (f.districtBirthPlace.errors &&
                                    f.districtBirthPlace?.touched) ||
                                  (submitted &&
                                    f.districtBirthPlace?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                              >
                              </ng-select>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.districtBirthPlace.errors &&
                                    f.districtBirthPlace?.touched) ||
                                  (submitted &&
                                    f.districtBirthPlace?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  không được bỏ trống</small
                                >
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">XÃ/PHƯỜNG</label>
                            </div>
                            <div
                              class="col-sm-12"
                              [ngbTooltip]="
                                f.districtBirthPlace.disabled == true ||
                                f.districtBirthPlace.value == null
                                  ? 'Phải chọn Quận/Huyện trước khi chọn Xã/Phường'
                                  : ''
                              "
                              placement="top"
                            >
                              <ng-select
                                [items]="communeBirthPlace"
                                [clearable]="false"
                                bindLabel="communeDisplay"
                                bindValue="communeId"
                                placeholder="Xã"
                                formControlName="communeBirthPlace"
                                [ngClass]="
                                  (f.communeBirthPlace.errors &&
                                    f.communeBirthPlace?.touched) ||
                                  (submitted &&
                                    f.communeBirthPlace?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                                (change)="selectCommune(1)"
                              >
                              </ng-select>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.communeBirthPlace.errors &&
                                    f.communeBirthPlace?.touched) ||
                                  (submitted &&
                                    f.communeBirthPlace?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  không được bỏ trống</small
                                >
                              </span>
                            </div>
                          </div>
                        </div>
                      </div> -->
                      <!-- <div class="row">
                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">ĐƯỜNG/PHỐ</label>
                            </div>
                            <div
                              class="col-sm-12"
                              [ngbTooltip]="
                                f.communeBirthPlace.disabled == true ||
                                f.communeBirthPlace.value == null
                                  ? 'Phải chọn Xã/Phường trước khi chọn đường'
                                  : ''
                              "
                              placement="top"
                            >
                              <ng-select
                                [items]="streetBirthPlace"
                                [clearable]="false"
                                bindLabel="streetName"
                                bindValue="streetId"
                                placeholder="Đường"
                                formControlName="streetBirthPlace"
                                [ngClass]="
                                  (f.streetBirthPlace.errors &&
                                    f.streetBirthPlace?.touched) ||
                                  (submitted &&
                                    f.streetBirthPlace?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                                (change)="selectStreet(1)"
                              >
                                <ng-template ng-header-tmp>
                                  <div
                                    [ngbTooltip]="
                                      f.communeBirthPlace.value == null
                                        ? 'Phải chọn Xã/Phường trước khi thêm đường'
                                        : ''
                                    "
                                    placement="right"
                                  >
                                    <button
                                      class="btn btn-flat-success cursor-pointer rounded-0 text-left p-50 w-100"
                                      (click)="
                                        modalOpenCreateStreet(
                                          modalOpenCreateStreetBirthPlace
                                        )
                                      "
                                      [disabled]="
                                        f.communeBirthPlace.value == null
                                      "
                                    >
                                      <i data-feather="plus"></i>
                                      <span class="align-middle ml-25"
                                        >Thêm Đường</span
                                      >
                                    </button>
                                  </div>
                                </ng-template>
                                <ng-template
                                  #modalOpenCreateStreetBirthPlace
                                  let-modal
                                >
                                  <div class="modal-header">
                                    <h5
                                      class="modal-title"
                                      id="myModalLabel160"
                                    >
                                      Thêm mới thông tin Đường
                                    </h5>
                                    <button
                                      type="button"
                                      class="close"
                                      (click)="modal.dismiss('Cross click')"
                                      aria-label="Close"
                                    >
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div
                                    class="modal-body"
                                    tabindex="0"
                                    ngbAutofocus
                                  >
                                    <div class="form-group">
                                      <small class="text-muted">
                                        Ví dụ:<i>Trần Hưng Đạo</i></small
                                      >
                                      <input
                                        type="text"
                                        name="addBirthStreet"
                                        id="addBirthStreet"
                                        #addBirthStreet
                                        class="form-control"
                                      />
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button
                                      type="button"
                                      class="btn btn-success"
                                      (click)="
                                        onSubmitCreateStreet(
                                          2,
                                          addBirthStreet.value
                                        )
                                          ? modal.close()
                                          : false
                                      "
                                      data-dismiss="closeModal"
                                      rippleEffect
                                    >
                                      Thêm
                                    </button>
                                  </div>
                                </ng-template>
                              </ng-select>
                            </div>

                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.streetBirthPlace.errors &&
                                    f.streetBirthPlace?.touched) ||
                                  (submitted &&
                                    f.streetBirthPlace?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  Không được bỏ trống
                                </small>
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-md-4">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable"
                                >ĐỊA CHỈ CỤ THỂ( SỐ NHÀ,NGÕ NGÁCH...)</label
                              >
                            </div>
                            <div
                              class="col-sm-12"
                              [ngbTooltip]="
                                f.streetBirthPlace.disabled == true ||
                                f.streetBirthPlace.value == null
                                  ? 'Phải chọn Đường phố trước khi điền địa chỉ nhà.'
                                  : ''
                              "
                              placement="top"
                            >
                              <div class="input-group input-group-merge">
                                <input
                                  formControlName="homeNumberBirthPlace"
                                  type="text"
                                  class="form-control"
                                  placeholder="84 ngách 75 ngõ 10"
                                  [ngClass]="
                                    (f.homeNumberBirthPlace.errors &&
                                      f.homeNumberBirthPlace?.touched) ||
                                    (submitted &&
                                      f.homeNumberBirthPlace?.errors?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                />
                              </div>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.homeNumberBirthPlace.errors &&
                                    f.homeNumberBirthPlace?.touched) ||
                                  (submitted &&
                                    f.homeNumberBirthPlace?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  Không được bỏ trống
                                </small>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div> -->

                      <!-- <h3>Nơi cư trú</h3> -->
                      <!-- <div class="row">
                        <div class="col-12 col-md-2">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">QUỐC GIA</label>
                            </div>
                            <div class="col-sm-12">
                              <ng-select
                                [ngClass]="
                                  (f.countryResidencePlace.errors &&
                                    f.countryResidencePlace?.touched) ||
                                  (submitted &&
                                    f.countryResidencePlace?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                                [items]="countryResidencePlace"
                                bindLabel="countryName"
                                bindValue="countryId"
                                [searchable]="false"
                                [clearable]="false"
                                placeholder="Quốc gia"
                                formControlName="countryResidencePlace"
                              >
                              </ng-select>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (submitted &&
                                    f.countryResidencePlace.errors) ||
                                  (submitted &&
                                    f.countryResidencePlace?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  không được bỏ trống</small
                                >
                              </span>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">TỈNH/THÀNH PHỐ</label>
                            </div>
                            <div class="col-sm-12">
                              <ng-select
                                [items]="provinceResidencePlace"
                                [clearable]="false"
                                bindLabel="provinceDisplay"
                                bindValue="provinceId"
                                placeholder="Tỉnh/Thành Phố"
                                formControlName="provinceResidencePlace"
                                [ngClass]="
                                  (f.provinceResidencePlace.errors &&
                                    f.provinceResidencePlace?.touched) ||
                                  (submitted &&
                                    f.provinceResidencePlace?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                                (change)="selectProvince(2)"
                              >
                              </ng-select>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.provinceResidencePlace.errors &&
                                    f.provinceResidencePlace?.touched) ||
                                  (submitted &&
                                    f.provinceResidencePlace?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  không được bỏ trống</small
                                >
                              </span>
                            </div>
                          </div>
                        </div>

                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">QUẬN/HUYỆN</label>
                            </div>
                            <div
                              class="col-sm-12"
                              [ngbTooltip]="
                                f.provinceResidencePlace.disabled == true ||
                                f.provinceResidencePlace.value == null
                                  ? 'Phải chọn Thành phố/Tỉnh trước khi chọn Quận/Huyện.'
                                  : ''
                              "
                              placement="top"
                            >
                              <ng-select
                                [items]="districtResidencePlace"
                                [clearable]="false"
                                bindLabel="districtDisplay"
                                bindValue="districtId"
                                placeholder="Huyện"
                                formControlName="districtResidencePlace"
                                [ngClass]="
                                  (f.districtResidencePlace.errors &&
                                    f.districtResidencePlace?.touched) ||
                                  (submitted &&
                                    f.districtResidencePlace?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                                (change)="selectDistrict(2)"
                              >
                              </ng-select>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.districtResidencePlace.errors &&
                                    f.districtResidencePlace?.touched) ||
                                  (submitted &&
                                    f.districtResidencePlace?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  không được bỏ trống</small
                                >
                              </span>
                            </div>
                          </div>
                        </div>

                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">XÃ/PHƯỜNG</label>
                            </div>
                            <div
                              class="col-sm-12"
                              [ngbTooltip]="
                                f.districtResidencePlace.disabled == true ||
                                f.districtResidencePlace.value == null
                                  ? 'Phải chọn Quận/Huyện trước khi chọn Xã/Phường'
                                  : ''
                              "
                              placement="top"
                            >
                              <ng-select
                                [items]="communeResidencePlace"
                                [clearable]="false"
                                bindLabel="communeDisplay"
                                bindValue="communeId"
                                placeholder="Xã"
                                formControlName="communeResidencePlace"
                                [ngClass]="
                                  (f.communeResidencePlace.errors &&
                                    f.communeResidencePlace?.touched) ||
                                  (submitted &&
                                    f.communeResidencePlace?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                                (change)="selectCommune(2)"
                              >
                              </ng-select>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.communeResidencePlace.errors &&
                                    f.communeResidencePlace?.touched) ||
                                  (submitted &&
                                    f.communeResidencePlace?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  không được bỏ trống</small
                                >
                              </span>
                            </div>
                          </div>
                        </div>
                      </div> -->
                      <!-- <div class="row row_bottom">
                        <div class="col-12 col-md-3">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label class="lable">ĐƯỜNG/PHỐ</label>
                            </div>
                            <div
                              class="col-sm-12"
                              [ngbTooltip]="
                                f.communeResidencePlace.disabled == true ||
                                f.communeResidencePlace.value == null
                                  ? 'Phải chọn Xã/Phường trước khi chọn đường.'
                                  : ''
                              "
                              placement="top"
                            >
                              <ng-select
                                [items]="streetResidencePlace"
                                [clearable]="false"
                                placeholder="Đường"
                                bindLabel="streetName"
                                bindValue="streetId"
                                formControlName="streetResidencePlace"
                                [ngClass]="
                                  (f.streetResidencePlace.errors &&
                                    f.streetResidencePlace?.touched) ||
                                  (submitted &&
                                    f.streetResidencePlace?.errors?.required)
                                    ? 'is-invalid'
                                    : ''
                                "
                                (change)="selectStreet(2)"
                              >
                                <ng-template ng-header-tmp>
                                  <div
                                    [ngbTooltip]="
                                      f.communeResidencePlace.value == null
                                        ? 'Phải chọn Xã/Phường trước khi thêm đường.'
                                        : ''
                                    "
                                    placement="right"
                                  >
                                    <button
                                      class="btn btn-flat-success cursor-pointer rounded-0 text-left p-50 w-100"
                                      (click)="
                                        modalOpenCreateStreet(
                                          modalOpenCreateResidenceStreet
                                        )
                                      "
                                      [disabled]="
                                        f.communeResidencePlace.value == null
                                      "
                                    >
                                      <i data-feather="plus"></i>
                                      <span class="align-middle ml-25"
                                        >Thêm Đường</span
                                      >
                                    </button>
                                  </div>
                                </ng-template>
                                <ng-template
                                  #modalOpenCreateResidenceStreet
                                  let-modal
                                >
                                  <div class="modal-header">
                                    <h5
                                      class="modal-title"
                                      id="myModalLabel160"
                                    >
                                      Thêm mới thông tin Đường
                                    </h5>
                                    <button
                                      type="button"
                                      class="close"
                                      (click)="modal.dismiss('Cross click')"
                                      aria-label="Close"
                                    >
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div
                                    class="modal-body"
                                    tabindex="0"
                                    ngbAutofocus
                                  >
                                    <div class="form-group">
                                      <small class="text-muted">
                                        Ví dụ:<i>Trần Hưng Đạo</i></small
                                      >
                                      <input
                                        type="text"
                                        name="addResidenceStreet"
                                        id="addResidenceStreet"
                                        #addResidenceStreet
                                        class="form-control"
                                      />
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button
                                      type="button"
                                      class="btn btn-success"
                                      (click)="
                                        onSubmitCreateStreet(
                                          1,
                                          addResidenceStreet.value
                                        )
                                          ? modal.close()
                                          : false
                                      "
                                      data-dismiss="closeModal"
                                      rippleEffect
                                    >
                                      Thêm
                                    </button>
                                  </div>
                                </ng-template>
                              </ng-select>
                            </div>

                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.streetResidencePlace.errors &&
                                    f.streetResidencePlace?.touched) ||
                                  (submitted &&
                                    f.streetResidencePlace?.errors?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  Không được bỏ trống
                                </small>
                              </span>
                            </div>
                          </div>
                        </div>

                        <div class="col-12 col-md-4">
                          <div class="form-group">
                            <div class="col-sm-12 col-form-label">
                              <label
                                >ĐỊA CHỈ CỤ THỂ(SỐ NHÀ ,NGÕ ,NGÁCH ....)</label
                              >
                            </div>
                            <div
                              class="col-sm-12"
                              [ngbTooltip]="
                                f.streetResidencePlace.disabled == true ||
                                f.streetResidencePlace.value == null
                                  ? 'Phải chọn Xã/Phường trước khi chọn đường'
                                  : ''
                              "
                              placement="top"
                            >
                              <div class="input-group input-group-merge">
                                <input
                                  formControlName="homeNumberResidencePlace"
                                  type="text"
                                  class="form-control"
                                  placeholder="84 ngách 75 ngõ 10"
                                  [ngClass]="
                                    (f.homeNumberResidencePlace.errors &&
                                      f.homeNumberResidencePlace?.touched) ||
                                    (submitted &&
                                      f.homeNumberResidencePlace?.errors
                                        ?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                />
                              </div>
                            </div>
                            <div class="col-sm-12">
                              <span
                                *ngIf="
                                  (f.homeNumberResidencePlace.errors &&
                                    f.homeNumberResidencePlace?.touched) ||
                                  (submitted &&
                                    f.homeNumberResidencePlace?.errors
                                      ?.required)
                                "
                                class="invalid-form"
                              >
                                <small class="form-text text-danger">
                                  Không được bỏ trống
                                </small>
                              </span>
                            </div>
                          </div>
                        </div>
                      </div> -->
                    </div>
                    <div
                      class="col-12 button_summit d-flex justify-content-end pb-1"
                    >
                      <button
                        type="submit"
                        rippleEffect
                        class="btn pl-3 pr-3 btn-primary mr-1"
                        (click)="onSubmit()"
                      >
                        Cập Nhật
                      </button>
                    </div>
                  </form>
                </div>
                <!-- Account Tab ends -->
              </ng-template>
            </li>
            <li ngbNavItem>
              <a ngbNavLink class="d-flex align-items-center">
                <i data-feather="info" class="mr-sm-50"></i
                ><span class="d-none d-sm-block"
                  >Thông tin quyền thuê bao</span
                ></a
              >
              <ng-template ngbNavContent>
                <div
                  class="tab-pane active"
                  id="account"
                  aria-labelledby="account-tab"
                  role="tabpanel"
                >
                  <div class="">
                    <div class="col-12">
                      <div class="table-responsive border rounded mt-1">
                        <h6 class="py-1 mx-1 mb-0 font-medium-2">
                          <i data-feather="lock" [size]="20" class="mr-25"></i>
                          <span class="align-middle">Quyền Truy Cập</span>
                        </h6>
                        <table class="table table-striped table-borderless">
                          <thead class="thead-light">
                            <tr>
                              <th>Module</th>
                              <th>Read</th>
                              <th>Write</th>
                              <th>Create</th>
                              <th>Delete</th>
                            </tr>
                          </thead>
                          <tbody [formGroup]="formRoleEdit">
                            <tr formGroupName="adminRole">
                              <td>Admin</td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasRead"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="admin-read"
                                    checked
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="admin-read"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasWrite"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="admin-write"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="admin-write"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasCreate"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="admin-create"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="admin-create"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasDelete"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="admin-delete"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="admin-delete"
                                  ></label>
                                </div>
                              </td>
                            </tr>
                            <tr formGroupName="superAdminRole">
                              <td>SuperAdmin</td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasRead"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="staff-read"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="staff-read"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasWrite"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="staff-write"
                                    checked
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="staff-write"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasCreate"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="staff-create"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="staff-create"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasDelete"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="staff-delete"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="staff-delete"
                                  ></label>
                                </div>
                              </td>
                            </tr>
                            <tr formGroupName="userRole">
                              <td>User</td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasRead"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="author-read"
                                    checked
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="author-read"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasWrite"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="author-write"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="author-write"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasCreate"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="author-create"
                                    checked
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="author-create"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasDelete"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="author-delete"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="author-delete"
                                  ></label>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>Contributor</td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="contributor-read"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="contributor-read"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="contributor-write"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="contributor-write"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="contributor-create"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="contributor-create"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="contributor-delete"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="contributor-delete"
                                  ></label>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>User</td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="user-read"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="user-read"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="user-create"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="user-create"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="user-write"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="user-write"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="user-delete"
                                    checked
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="user-delete"
                                  ></label>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="col-12 d-flex justify-content-end mt-2">
                        <button
                          type="submit"
                          rippleEffect
                          class="btn btn-primary mr-1 mb-50"
                          (click)="updateRole()"
                        >
                          Cập Nhật
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-template>
            </li>
          </ul>
          <div [ngbNavOutlet]="nav" class="mt-2"></div>
        </div>
      </div>
    </section>
  </div>
</div>
