<div class="content-wrapper container-xxl p-0">
  <div class="content-body">
    <section id="ozganization-header">
      <div class="ozganization-header">
        <app-content-header
          [contentHeader]="contentHeader"
        ></app-content-header>
      </div>
    </section>
    <section id="table-organization-list">
      <div class="card">
        <div class="card-body">
          <ul ngbNav #nav="ngbNav" class="nav nav-pills">
            <li ngbNavItem>
              <a ngbNavLink class="d-flex align-items-center"
                ><i data-feather="user" class="mr-sm-50"></i
                ><span class="d-none d-sm-block">Thông tin tài khoản</span></a
              >
              <ng-template ngbNavContent>
                <!-- Account Tab starts -->
                <div
                  class="tab-pane active"
                  id="account"
                  aria-labelledby="account-tab"
                  role="tabpanel"
                >
                  <!-- users edit media object start -->
                  <!-- users edit media object ends -->
                  <!-- users edit account form start -->
                  <form class="form" [formGroup]="formOrganizationEdit">
                    <h3>Thông tin tài khoản</h3>
                    <div class="row">
                      <!-- user name -->
                      <div class="col-12 col-lg-3">
                        <div class="form-group">
                          <div class="col-sm-12 col-form-label">
                            <label for="first-name-column">TÊN TÀI KHOẢN</label>
                          </div>
                          <div class="col-sm-12">
                            <input
                              type="text"
                              id="first-name-column"
                              class="form-control"
                              name="fname-column"
                              formControlName="username"
                              [readonly]="true"
                            />
                          </div>
                        </div>
                      </div>
                      <!-- email -->
                      <div class="col-12 col-lg-3">
                        <div class="form-group">
                          <div class="col-sm-12 col-form-label">
                            <label for="first-name-column"
                              >THƯ ĐIỆN TỬ (EMAIL)</label
                            >
                          </div>
                          <div class="col-sm-12">
                            <input
                              type="text"
                              id="first-name-column"
                              class="form-control"
                              placeholder="EMAIL"
                              name="fname-column"
                              formControlName="email"
                              [readonly]="true"
                            />
                          </div>
                        </div>
                      </div>
                      <!-- Tên tổ chức -->
                      <!-- <div class="col-12 col-lg-3">
                        <div class="form-group">
                          <div class="col-sm-12 col-form-label">
                            <label for="first-name-colums">TÊN TỔ CHỨC</label>
                          </div>
                          <div class="col-sm-12">
                            <input
                              type="text"
                              id="first-name-column"
                              class="form-control"
                              name="fname-column"
                              formControlName="organizationName"
                              [readonly]="true"
                            />
                          </div>
                        </div>
                      </div>
                      <div class="col-12 col-lg-3">
                        <div class="form-group">
                          <div class="col-sm-12 col-form-label">
                            <label for="first-name-colums">LOẠI TỔ CHỨC</label>
                          </div>
                          <div class="col-sm-12">
                            <input
                              type="text"
                              id="first-name-column"
                              class="form-control"
                              name="fname-column"
                              formControlName="subscriberCategoryName"
                              [readonly]="true"
                            />
                          </div>
                        </div>
                      </div>
                      <div class="col-12 col-lg-3">
                        <div class="form-group">
                          <div class="col-sm-12 col-form-label">
                            <label for="first-name-colums">MÃ TỔ CHỨC</label>
                          </div>
                          <div class="col-sm-12">
                            <input
                              type="text"
                              id="first-name-column"
                              class="form-control"
                              name="fname-column"
                              formControlName="countryOrganizationId"
                              [readonly]="true"
                            />
                          </div>
                        </div>
                      </div>
                      <div class="col-12 col-lg-3">
                        <div class="form-group">
                          <div class="col-sm-12 col-form-label">
                            <label for="first-name-colums"
                              >TÊN TỔ CHỨC CẤP TRÊN</label
                            >
                          </div>
                          <div class="col-sm-12">
                            <input
                              type="text"
                              id="first-name-column"
                              class="form-control"
                              name="fname-column"
                              formControlName="parentOrganizationName"
                              [readonly]="true"
                            />
                          </div>
                        </div>
                      </div>
                      <div class="col-12 col-lg-3">
                        <div class="form-group">
                          <div class="col-sm-12 col-form-label">
                            <label for="first-name-colums">SỐ ĐIỆN THOẠI</label>
                          </div>
                          <div class="col-sm-12">
                            <input
                              type="text"
                              id="first-name-column"
                              class="form-control"
                              name="fname-column"
                              formControlName="phoneNumber"
                              [readonly]="true"
                            />
                          </div>
                        </div>
                      </div>
                      <div class="col-12 col-lg-3">
                        <div class="form-group">
                          <div class="col-sm-12 col-form-label">
                            <label for="first-name-colums">WEBSITE</label>
                          </div>
                          <div class="col-sm-12">
                            <input
                              type="text"
                              id="first-name-column"
                              class="form-control"
                              name="fname-column"
                              formControlName="website"
                              [readonly]="true"
                            />
                          </div>
                        </div>
                      </div> -->
                    </div>
                  </form>
                  <form
                    class="form form-horizontal"
                    id="form-personal"
                    [formGroup]="formOrganizationEdit"
                  >
                    <div class="form_content">
                      <h3>Thông tin tổ chức</h3>
                      <div class="row">
                        <div class="col-11 col-lg-2">
                          <div class="">
                            <input
                              #imageInput
                              type="file"
                              style="display: none"
                              accept="image/png, image/jpeg, image/jpg"
                              (change)="inputImage($event)"
                            />
                          </div>
                          <div class="h-100">
                            <div
                              class="border border-dark h-75 w-100 mt-1 ml-1 mr-1 mb-1"
                            >
                              <img
                                class="w-100 h-100"
                                (click)="imageInput.click()"
                                [src]="
                                  image
                                    ? image
                                    : 'assets/images/portrait/small/avatar-s-11.jpg'
                                "
                                alt="Upload Image"
                              />
                            </div>
                            <div class="text-center mb-1 ml-1">
                              <span>Ảnh đại diện</span>
                            </div>
                          </div>
                        </div>
                        <div class="col-12 col-lg-10">
                          <div class="row">
                            <div class="col-12 col-lg-3">
                              <div class="form-group">
                                <div class="col-sm-12 col-form-label">
                                  <label class="lable">TÊN TỔ CHỨC</label>
                                </div>
                                <div class="col-sm-12">
                                  <div
                                    class="input-group input-group-merge"
                                    [ngClass]="
                                      (f.organizationName.errors &&
                                        f.organizationName?.touched) ||
                                      (submitted &&
                                        f.organizationName?.errors?.required)
                                        ? 'is-invalid'
                                        : ''
                                    "
                                  >
                                    <input
                                      formControlName="organizationName"
                                      type="text"
                                      class="form-control"
                                      placeholder="Tên tổ chức"
                                      [ngClass]="
                                        (f.organizationName.errors &&
                                          f.organizationName?.touched) ||
                                        (submitted &&
                                          f.organizationName?.errors?.required)
                                          ? 'is-invalid'
                                          : ''
                                      "
                                    />
                                  </div>
                                </div>
                                <div class="col-sm-12">
                                  <span
                                    *ngIf="
                                      (f.organizationName.errors &&
                                        f.organizationName?.touched) ||
                                      (submitted &&
                                        f.organizationName?.errors?.required)
                                    "
                                    class="invalid-form"
                                  >
                                    <small class="form-text text-danger">
                                      Không được bỏ trống
                                    </small>
                                  </span>
                                </div>
                              </div>
                            </div>
                            <div class="col-12 col-lg-3">
                              <div class="form-group">
                                <div class="col-sm-12 col-form-label">
                                  <label class="lable">LOẠI TỔ CHỨC</label>
                                </div>
                                <div class="col-sm-12">
                                  <div
                                    class="input-group input-group-merge"
                                    [ngClass]="
                                      (f.subscriberCategoryName.errors &&
                                        f.subscriberCategoryName?.touched) ||
                                      (submitted &&
                                        f.subscriberCategoryName?.errors
                                          ?.required)
                                        ? 'is-invalid'
                                        : ''
                                    "
                                  >
                                    <input
                                      appRemoveSpace
                                      formControlName="subscriberCategoryName"
                                      type="text"
                                      class="form-control"
                                      [ngClass]="
                                        (f.subscriberCategoryName.errors &&
                                          f.subscriberCategoryName?.touched) ||
                                        (submitted &&
                                          f.subscriberCategoryName?.errors
                                            ?.required)
                                          ? 'is-invalid'
                                          : ''
                                      "
                                    />
                                  </div>
                                </div>
                                <div class="col-sm-12">
                                  <span
                                    *ngIf="
                                      (f.subscriberCategoryName.errors &&
                                        f.subscriberCategoryName?.touched) ||
                                      (submitted &&
                                        f.subscriberCategoryName?.errors
                                          ?.required)
                                    "
                                    class="invalid-form"
                                  >
                                    <small
                                      class="form-text text-danger"
                                      *ngIf="
                                        f.subscriberCategoryName.errors.required
                                      "
                                    >
                                      Không được bỏ trống
                                    </small>
                                  </span>
                                </div>
                              </div>
                            </div>
                            <div class="col-12 col-lg-3">
                              <div class="form-group">
                                <div class="col-sm-12 col-form-label">
                                  <label class="lable">MÃ TỔ CHỨC</label>
                                </div>
                                <div class="col-sm-12">
                                  <div
                                    class="input-group input-group-merge"
                                    [ngClass]="
                                      (f.countryOrganizationId.errors &&
                                        f.countryOrganizationId?.touched) ||
                                      (submitted &&
                                        f.countryOrganizationId?.errors
                                          ?.required)
                                        ? 'is-invalid'
                                        : ''
                                    "
                                  >
                                    <input
                                      appRemoveSpace
                                      formControlName="countryOrganizationId"
                                      type="text"
                                      class="form-control"
                                      [ngClass]="
                                        (f.countryOrganizationId.errors &&
                                          f.countryOrganizationId?.touched) ||
                                        (submitted &&
                                          f.countryOrganizationId?.errors
                                            ?.required)
                                          ? 'is-invalid'
                                          : ''
                                      "
                                    />
                                  </div>
                                </div>
                                <div class="col-sm-12">
                                  <span
                                    *ngIf="
                                      (f.countryOrganizationId.errors
                                        ?.required &&
                                        f.countryOrganizationId?.touched) ||
                                      (submitted &&
                                        f.countryOrganizationId?.errors
                                          ?.required)
                                    "
                                    class="invalid-form"
                                  >
                                    <small
                                      class="form-text text-danger"
                                      *ngIf="f.countryOrganizationId.invalid"
                                    >
                                      Điền đúng cú pháp. Ví dụ: CMC123
                                    </small>
                                  </span>
                                </div>
                              </div>
                            </div>
                            <div class="col-12 col-lg-3">
                              <div class="form-group">
                                <div class="col-sm-12 col-form-label">
                                  <label>TÊN NGƯỜI ĐẠI DIỆN</label>
                                </div>
                                <div class="col-sm-12">
                                  <div
                                    class="input-group input-group-merge"
                                    [ngClass]="
                                      (f.leaderName.errors &&
                                        f.leaderName?.touched) ||
                                      (submitted &&
                                        f.leaderName?.errors?.required)
                                        ? 'is-invalid'
                                        : ''
                                    "
                                  >
                                    <input
                                      [ngClass]="
                                        (f.leaderName.errors &&
                                          f.leaderName?.touched) ||
                                        (submitted &&
                                          f.leaderName?.errors?.required)
                                          ? 'is-invalid'
                                          : ''
                                      "
                                      formControlName="leaderName"
                                      type="text"
                                      id="fname-icon-4"
                                      class="form-control"
                                      name="fname-icon-4"
                                      placeholder="Tên lãnh đạo"
                                    />
                                  </div>
                                </div>
                                <div class="col-sm-12">
                                  <span
                                    *ngIf="
                                      (submitted && f.leaderName.errors) ||
                                      (f.leaderName.errors &&
                                        f.leaderName?.touched)
                                    "
                                    class="invalid-form"
                                  >
                                    <small class="form-text text-danger">
                                      Không được bỏ trống
                                    </small>
                                  </span>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-12 col-lg-3">
                              <div class="form-group">
                                <div class="col-sm-12 col-form-label">
                                  <label class="lable">CHỨC DANH</label>
                                </div>
                                <div class="col-sm-12">
                                  <input
                                    formControlName="position"
                                    type="text"
                                    class="form-control"
                                  />
                                </div>
                              </div>
                            </div>
                            <div class="col-12 col-lg-3">
                              <div class="form-group">
                                <div class="col-sm-12 col-form-label">
                                  <label class="lable"
                                    >TÊN TỔ CHỨC CẤP TRÊN</label
                                  >
                                </div>
                                <div class="col-sm-12">
                                  <div
                                    class="input-group input-group-merge"
                                    [ngClass]="
                                      (f.parentOrganizationName.errors &&
                                        f.parentOrganizationName?.touched) ||
                                      (submitted &&
                                        f.parentOrganizationName?.errors
                                          ?.required)
                                        ? 'is-invalid'
                                        : ''
                                    "
                                  >
                                    <input
                                      appRemoveSpace
                                      formControlName="parentOrganizationName"
                                      type="text"
                                      class="form-control"
                                      [ngClass]="
                                        (f.parentOrganizationName.errors &&
                                          f.parentOrganizationName?.touched) ||
                                        (submitted &&
                                          f.parentOrganizationName?.errors
                                            ?.required)
                                          ? 'is-invalid'
                                          : ''
                                      "
                                    />
                                  </div>
                                </div>
                                <div class="col-sm-12">
                                  <span
                                    *ngIf="
                                      (f.parentOrganizationName.errors &&
                                        f.parentOrganizationName?.touched) ||
                                      (submitted &&
                                        f.parentOrganizationName?.errors
                                          ?.required)
                                    "
                                    class="invalid-form"
                                  >
                                    <small class="form-text text-danger">
                                      Không được bỏ trống</small
                                    >
                                  </span>
                                </div>
                              </div>
                            </div>
                            <div class="col-12 col-lg-3">
                              <div class="form-group">
                                <div class="col-sm-12 col-form-label">
                                  <label class="lable">SỐ ĐIỆN THOẠI</label>
                                </div>
                                <div class="col-sm-12">
                                  <div
                                    class="input-group input-group-merge"
                                    [ngClass]="
                                      (f.phoneNumber.errors &&
                                        f.phoneNumber?.touched) ||
                                      (submitted &&
                                        f.phoneNumber?.errors?.required)
                                        ? 'is-invalid'
                                        : ''
                                    "
                                  >
                                    <div class="input-group-prepend">
                                      <span class="input-group-text"
                                        ><i data-feather="phone-call"></i
                                      ></span>
                                    </div>
                                    <input
                                      formControlName="phoneNumber"
                                      type="text"
                                      class="form-control"
                                      placeholder="Số điện thoại"
                                      appRemoveSpace
                                      [ngClass]="
                                        (f.phoneNumber.errors &&
                                          f.phoneNumber?.touched) ||
                                        (submitted &&
                                          f.phoneNumber?.errors?.required)
                                          ? 'is-invalid'
                                          : ''
                                      "
                                    />
                                  </div>
                                </div>
                                <div class="col-sm-12">
                                  <span
                                    *ngIf="
                                      (f.phoneNumber.errors &&
                                        f.phoneNumber?.touched) ||
                                      (submitted &&
                                        f.phoneNumber?.errors?.required)
                                    "
                                    class="invalid-form"
                                  >
                                    <small
                                      class="form-text text-danger"
                                      *ngIf="f.phoneNumber.errors.minLength"
                                    >
                                      Phải đủ 10 số
                                    </small>
                                    <small
                                      class="form-text text-danger"
                                      *ngIf="f.phoneNumber.errors.required"
                                    >
                                      Không được bỏ trống
                                    </small>

                                    <small
                                      class="form-text text-danger"
                                      *ngIf="f.phoneNumber.errors.pattern"
                                    >
                                      Số điện thoại chưa đúng
                                    </small>
                                  </span>
                                  <span
                                    *ngIf="f.phoneNumber.errors"
                                    class="invalid-form"
                                  >
                                    <small
                                      class="form-text text-danger"
                                      *ngIf="f.phoneNumber.errors.minLength"
                                    >
                                      Phải đủ 10 số
                                    </small>
                                  </span>
                                </div>
                              </div>
                            </div>
                            <div class="col-12 col-lg-3">
                              <div class="form-group">
                                <div class="col-sm-12 col-form-label">
                                  <label class="lable">WEBSITE</label>
                                </div>
                                <div class="col-sm-12">
                                  <div
                                    class="input-group input-group-merge"
                                    [ngClass]="
                                      (f.website.errors &&
                                        f.website?.touched) ||
                                      (submitted && f.website?.errors?.required)
                                        ? 'is-invalid'
                                        : ''
                                    "
                                  >
                                    <input
                                      formControlName="website"
                                      type="text"
                                      class="form-control"
                                      placeholder="Website"
                                      appRemoveSpace
                                      [ngClass]="
                                        (f.website.errors &&
                                          f.website?.touched) ||
                                        (submitted &&
                                          f.website?.errors?.required)
                                          ? 'is-invalid'
                                          : ''
                                      "
                                    />
                                  </div>
                                </div>
                                <div class="col-sm-12">
                                  <span
                                    *ngIf="
                                      (f.website.errors &&
                                        f.website?.touched) ||
                                      (submitted && f.website?.errors?.required)
                                    "
                                    class="invalid-form"
                                  >
                                    <small class="form-text text-danger">
                                      Không được bỏ trống</small
                                    >
                                  </span>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <h3>Địa chỉ liên hệ</h3>
                      <form
                        class="form form-horizontal"
                        id="form-address"
                        [formGroup]="formAddress"
                      >
                        <div class="row">
                          <div class="col-12 col-lg-3">
                            <div class="form-group">
                              <div class="col-sm-12 col-form-label">
                                <label class="lable">QUỐC GIA</label>
                              </div>
                              <div class="col-sm-12">
                                <ng-select
                                  [ngClass]="
                                    (fa.countryCode.errors &&
                                      fa.countryCode?.touched) ||
                                    (submitted &&
                                      fa.countryCode?.errors?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                  [items]="countryCode"
                                  bindLabel="countryName"
                                  bindValue="countryId"
                                  [clearable]="false"
                                  placeholder="Quốc gia"
                                  formControlName="countryCode"
                                >
                                </ng-select>
                              </div>
                              <div class="col-sm-12">
                                <span
                                  *ngIf="
                                    (fa.countryCode.errors &&
                                      fa.countryCode?.touched) ||
                                    (submitted &&
                                      fa.countryCode?.errors?.required)
                                  "
                                  class="invalid-form"
                                >
                                  <small class="form-text text-danger">
                                    Không được bỏ trống</small
                                  >
                                </span>
                              </div>
                            </div>
                          </div>
                          <div class="col-12 col-lg-3">
                            <div class="form-group">
                              <div class="col-sm-12 col-form-label">
                                <label class="lable">TỈNH/THÀNH PHỐ</label>
                              </div>
                              <div class="col-sm-12">
                                <ng-select
                                  [ngClass]="
                                    (fa.provinceName.errors &&
                                      fa.provinceName?.touched) ||
                                    (submitted &&
                                      fa.provinceName?.errors?.required)
                                      ? 'is-invalid'
                                      : 'is-valid'
                                  "
                                  [items]="provinceName"
                                  [clearable]="false"
                                  bindLabel="provinceDisplay"
                                  placeholder="Tỉnh/Thành phố"
                                  bindValue="provinceId"
                                  formControlName="provinceName"
                                  (change)="selectProvince()"
                                >
                                  <ng-template ng-header-tmp>
                                    <div>
                                      <button
                                        class="btn btn-flat-success cursor-pointer rounded-0 text-left p-50 w-100"
                                        (click)="
                                          modalOpenCreateStreet(
                                            modalOpenCreateProvince
                                          )
                                        "
                                      >
                                        <i data-feather="plus"></i>
                                        <span class="align-middle ml-25"
                                          >Thêm Tỉnh/Thành phố</span
                                        >
                                      </button>
                                    </div>
                                  </ng-template>
                                  <ng-template
                                    #modalOpenCreateProvince
                                    let-modal
                                  >
                                    <div class="modal-header">
                                      <h5
                                        class="modal-title"
                                        id="myModalLabel160"
                                      >
                                        Thêm mới Tỉnh/Thành phố
                                      </h5>
                                      <button
                                        type="button"
                                        class="close"
                                        (click)="modal.dismiss('Cross click')"
                                        aria-label="Close"
                                      >
                                        <span aria-hidden="true">&times;</span>
                                      </button>
                                    </div>
                                    <div
                                      class="modal-body"
                                      tabindex="0"
                                      ngbAutofocus
                                    >
                                      <div class="form-group">
                                        <small class="text-muted">
                                          Ví dụ:<i>Đà Nẵng</i></small
                                        >
                                        <input
                                          type="text"
                                          name="addProvince"
                                          id="addProvince"
                                          #addProvince
                                          class="form-control"
                                        />
                                      </div>
                                    </div>
                                    <div class="modal-footer">
                                      <button
                                        type="button"
                                        class="btn btn-success"
                                        data-dismiss="closeModal"
                                        rippleEffect
                                      >
                                        Thêm
                                      </button>
                                    </div>
                                  </ng-template>
                                </ng-select>
                              </div>
                              <div class="col-sm-12">
                                <span
                                  *ngIf="
                                    (fa.provinceName.errors &&
                                      fa.provinceName?.touched) ||
                                    (submitted &&
                                      fa.provinceName?.errors?.required)
                                  "
                                  class="invalid-form"
                                >
                                  <small class="form-text text-danger">
                                    Không được bỏ trống</small
                                  >
                                </span>
                              </div>
                            </div>
                          </div>
                          <div class="col-12 col-lg-3">
                            <div class="form-group">
                              <div class="col-sm-12 col-form-label">
                                <label class="lable">QUẬN/HUYỆN</label>
                              </div>
                              <div
                                class="col-sm-12"
                                [ngbTooltip]="
                                  fa.provinceName.disabled == true ||
                                  fa.provinceName.value == null
                                    ? 'Phải chọn Thành phố/Tỉnh trước khi chọn Quận/Huyện'
                                    : ''
                                "
                                placement="top"
                              >
                                <ng-select
                                  [items]="districtName"
                                  [clearable]="false"
                                  bindLabel="districtDisplay"
                                  bindValue="districtId"
                                  placeholder="Huyện"
                                  formControlName="districtName"
                                  (change)="selectDistrict()"
                                  [ngClass]="
                                    (fa.districtName.errors &&
                                      fa.districtName?.touched) ||
                                    (submitted &&
                                      fa.districtName?.errors?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                >
                                  <ng-template ng-header-tmp>
                                    <div>
                                      <button
                                        class="btn btn-flat-success cursor-pointer rounded-0 text-left p-50 w-100"
                                        (click)="
                                          modalOpenCreateStreet(
                                            modalOpenCreateDistrict
                                          )
                                        "
                                      >
                                        <i data-feather="plus"></i>
                                        <span class="align-middle ml-25"
                                          >Thêm Quận/Huyện</span
                                        >
                                      </button>
                                    </div>
                                  </ng-template>
                                  <ng-template
                                    #modalOpenCreateDistrict
                                    let-modal
                                  >
                                    <div class="modal-header">
                                      <h5
                                        class="modal-title"
                                        id="myModalLabel160"
                                      >
                                        Thêm mới Quận/Huyện
                                      </h5>
                                      <button
                                        type="button"
                                        class="close"
                                        (click)="modal.dismiss('Cross click')"
                                        aria-label="Close"
                                      >
                                        <span aria-hidden="true">&times;</span>
                                      </button>
                                    </div>
                                    <div
                                      class="modal-body"
                                      tabindex="0"
                                      ngbAutofocus
                                    >
                                      <div class="form-group">
                                        <small class="text-muted">
                                          Ví dụ:<i>Sơn Trà</i></small
                                        >
                                        <input
                                          type="text"
                                          name="addDistrict"
                                          id="addDistrict"
                                          #addDistrict
                                          class="form-control"
                                        />
                                      </div>
                                    </div>
                                    <div class="modal-footer">
                                      <button
                                        type="button"
                                        class="btn btn-success"
                                        data-dismiss="closeModal"
                                        rippleEffect
                                      >
                                        Thêm
                                      </button>
                                    </div>
                                  </ng-template>
                                </ng-select>
                              </div>
                              <div class="col-sm-12">
                                <span
                                  *ngIf="
                                    (fa.districtName.errors &&
                                      fa.districtName?.touched) ||
                                    (submitted &&
                                      fa.districtName?.errors?.required)
                                  "
                                  class="invalid-form"
                                >
                                  <small class="form-text text-danger">
                                    Không được bỏ trống</small
                                  >
                                </span>
                              </div>
                            </div>
                          </div>
                          <div class="col-12 col-lg-3">
                            <div class="form-group">
                              <div class="col-sm-12 col-form-label">
                                <label class="lable">XÃ/PHƯỜNG</label>
                              </div>
                              <div
                                class="col-sm-12"
                                [ngbTooltip]="
                                  fa.districtName.disabled == true ||
                                  fa.districtName.value == null
                                    ? 'Phải chọn Quận/Huyện trước khi chọn Xã/Phường'
                                    : ''
                                "
                                placement="top"
                              >
                                <ng-select
                                  [items]="communeName"
                                  [clearable]="false"
                                  bindLabel="communeDisplay"
                                  bindValue="communeId"
                                  placeholder="Xã"
                                  formControlName="communeName"
                                  [ngClass]="
                                    (fa.communeName.errors &&
                                      fa.communeName?.touched) ||
                                    (submitted &&
                                      fa.communeName?.errors?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                  (change)="selectCommune()"
                                >
                                  <ng-template ng-header-tmp>
                                    <div>
                                      <button
                                        class="btn btn-flat-success cursor-pointer rounded-0 text-left p-50 w-100"
                                        (click)="
                                          modalOpenCreateStreet(
                                            modalOpenCreateCommune
                                          )
                                        "
                                      >
                                        <i data-feather="plus"></i>
                                        <span class="align-middle ml-25"
                                          >Thêm Xã/Phường</span
                                        >
                                      </button>
                                    </div>
                                  </ng-template>
                                  <ng-template
                                    #modalOpenCreateCommune
                                    let-modal
                                  >
                                    <div class="modal-header">
                                      <h5
                                        class="modal-title"
                                        id="myModalLabel160"
                                      >
                                        Thêm mới Xã/Phường
                                      </h5>
                                      <button
                                        type="button"
                                        class="close"
                                        (click)="modal.dismiss('Cross click')"
                                        aria-label="Close"
                                      >
                                        <span aria-hidden="true">&times;</span>
                                      </button>
                                    </div>
                                    <div
                                      class="modal-body"
                                      tabindex="0"
                                      ngbAutofocus
                                    >
                                      <div class="form-group">
                                        <small class="text-muted">
                                          Ví dụ:<i>Thọ Quang</i></small
                                        >
                                        <input
                                          type="text"
                                          name="addCommune"
                                          id="addCommune"
                                          #addCommune
                                          class="form-control"
                                        />
                                      </div>
                                    </div>
                                    <div class="modal-footer">
                                      <button
                                        type="button"
                                        class="btn btn-success"
                                        data-dismiss="closeModal"
                                        rippleEffect
                                      >
                                        Thêm
                                      </button>
                                    </div>
                                  </ng-template>
                                </ng-select>
                              </div>
                              <div class="col-sm-12">
                                <span
                                  *ngIf="
                                    (fa.communeName.errors &&
                                      fa.communeName?.touched) ||
                                    (submitted &&
                                      fa.communeName?.errors?.required)
                                  "
                                  class="invalid-form"
                                >
                                  <small class="form-text text-danger">
                                    Không được bỏ trống</small
                                  >
                                </span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="row">
                          <div class="col-12 col-lg-3">
                            <div class="form-group">
                              <div class="col-sm-12 col-form-label">
                                <label class="lable">ĐƯỜNG/PHỐ</label>
                              </div>
                              <div
                                class="col-sm-12"
                                [ngbTooltip]="
                                  fa.communeName.disabled == true ||
                                  fa.communeName.value == null
                                    ? 'Phải chọn Xã/Phường trước khi chọn đường'
                                    : ''
                                "
                                placement="top"
                              >
                                <ng-select
                                  [items]="streetName"
                                  [clearable]="false"
                                  bindLabel="streetName"
                                  bindValue="streetId"
                                  placeholder="Đường"
                                  formControlName="streetName"
                                  [ngClass]="
                                    (fa.streetName.errors &&
                                      fa.streetName?.touched) ||
                                    (submitted &&
                                      fa.streetName?.errors?.required)
                                      ? 'is-invalid'
                                      : ''
                                  "
                                  (change)="selectStreet()"
                                >
                                  <ng-template ng-header-tmp>
                                    <div
                                      [ngbTooltip]="
                                        fa.communeName.value == null
                                          ? 'Phải chọn Xã/Phường trước khi thêm đường'
                                          : ''
                                      "
                                      placement="right"
                                    >
                                      <button
                                        class="btn btn-flat-success cursor-pointer rounded-0 text-left p-50 w-100"
                                        (click)="
                                          modalOpenCreateStreet(
                                            modalOpenCreateStreetBirthPlace
                                          )
                                        "
                                        [disabled]="
                                          fa.communeName.value == null
                                        "
                                      >
                                        <i data-feather="plus"></i>
                                        <span class="align-middle ml-25"
                                          >Thêm Đường</span
                                        >
                                      </button>
                                    </div>
                                  </ng-template>
                                  <ng-template
                                    #modalOpenCreateStreetBirthPlace
                                    let-modal
                                  >
                                    <div class="modal-header">
                                      <h5
                                        class="modal-title"
                                        id="myModalLabel160"
                                      >
                                        Thêm mới thông tin Đường
                                      </h5>
                                      <button
                                        type="button"
                                        class="close"
                                        (click)="modal.dismiss('Cross click')"
                                        aria-label="Close"
                                      >
                                        <span aria-hidden="true">&times;</span>
                                      </button>
                                    </div>
                                    <div
                                      class="modal-body"
                                      tabindex="0"
                                      ngbAutofocus
                                    >
                                      <div class="form-group">
                                        <small class="text-muted">
                                          Ví dụ:<i>Trần Hưng Đạo</i></small
                                        >
                                        <input
                                          type="text"
                                          name="addBirthStreet"
                                          id="addBirthStreet"
                                          #addBirthStreet
                                          class="form-control"
                                        />
                                      </div>
                                    </div>
                                    <div class="modal-footer">
                                      <button
                                        type="button"
                                        class="btn btn-success"
                                        (click)="
                                          onSubmitCreateStreet(
                                            addBirthStreet.value
                                          )
                                            ? modal.close()
                                            : false
                                        "
                                        data-dismiss="closeModal"
                                        rippleEffect
                                      >
                                        Thêm
                                      </button>
                                    </div>
                                  </ng-template>
                                </ng-select>
                              </div>

                              <div class="col-sm-12">
                                <span
                                  *ngIf="
                                    (fa.streetName.errors &&
                                      fa.streetName?.touched) ||
                                    (submitted &&
                                      fa.streetName?.errors?.required)
                                  "
                                  class="invalid-form"
                                >
                                  <small class="form-text text-danger">
                                    Không được bỏ trống
                                  </small>
                                </span>
                              </div>
                            </div>
                          </div>
                          <div class="col-12 col-lg-4">
                            <div class="form-group">
                              <div class="col-sm-12 col-form-label">
                                <label class="lable"
                                  >ĐỊA CHỈ CỤ THỂ( SỐ NHÀ,NGÕ NGÁCH...)</label
                                >
                              </div>
                              <div
                                class="col-sm-12"
                                [ngbTooltip]="
                                  fa.streetName.disabled == true ||
                                  fa.streetName.value == null
                                    ? 'Phải chọn Đường phố trước khi điền địa chỉ nhà.'
                                    : ''
                                "
                                placement="top"
                              >
                                <div class="input-group input-group-merge">
                                  <input
                                    formControlName="houseNumber"
                                    type="text"
                                    class="form-control"
                                    placeholder="84 ngách 75 ngõ 10"
                                    [ngClass]="
                                      (fa.houseNumber.errors &&
                                        fa.houseNumber?.touched) ||
                                      (submitted &&
                                        fa.houseNumber?.errors?.required)
                                        ? 'is-invalid'
                                        : ''
                                    "
                                  />
                                </div>
                              </div>
                              <div class="col-sm-12">
                                <span
                                  *ngIf="
                                    (fa.houseNumber.errors &&
                                      fa.houseNumber?.touched) ||
                                    (submitted &&
                                      fa.houseNumber?.errors?.required)
                                  "
                                  class="invalid-form"
                                >
                                  <small class="form-text text-danger">
                                    Không được bỏ trống
                                  </small>
                                </span>
                              </div>
                            </div>
                          </div>
                        </div>
                      </form>
                    </div>
                  </form>
                </div>
                <div
                  class="col-12 button_summit d-flex justify-content-end pb-1"
                >
                  <button
                    type="submit"
                    rippleEffect
                    class="btn pl-3 pr-3 btn-primary mr-1"
                    (click)="onSubmit()"
                  >
                    Cập Nhật
                  </button>
                  <app-return [buttonReturn]="buttonReturn"> </app-return>
                </div>
                <!-- Account Tab ends -->
              </ng-template>
            </li>
            <li ngbNavItem>
              <a ngbNavLink class="d-flex align-items-center">
                <i data-feather="lock" class="mr-sm-50"></i
                ><span class="d-none d-sm-block"
                  >Thông tin quyền thuê bao</span
                ></a
              >
              <ng-template ngbNavContent>
                <div
                  class="tab-pane active"
                  id="account"
                  aria-labelledby="account-tab"
                  role="tabpanel"
                >
                  <div class="">
                    <div class="col-12">
                      <div class="table-responsive border rounded mt-1">
                        <h6 class="py-1 mx-1 mb-0 font-medium-2">
                          <i data-feather="lock" [size]="20" class="mr-25"></i>
                          <span class="align-middle">Quyền Truy Cập</span>
                        </h6>
                        <table class="table table-striped table-borderless">
                          <thead class="thead-light">
                            <tr>
                              <th>Module</th>
                              <th>Read</th>
                              <th>Write</th>
                              <th>Create</th>
                              <th>Delete</th>
                            </tr>
                          </thead>
                          <tbody [formGroup]="formRoleEdit">
                            <tr formGroupName="adminRole">
                              <td>Admin</td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasRead"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="admin-read"
                                    checked
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="admin-read"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasWrite"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="admin-write"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="admin-write"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasCreate"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="admin-create"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="admin-create"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasDelete"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="admin-delete"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="admin-delete"
                                  ></label>
                                </div>
                              </td>
                            </tr>
                            <tr formGroupName="superAdminRole">
                              <td>SuperAdmin</td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasRead"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="staff-read"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="staff-read"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasWrite"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="staff-write"
                                    checked
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="staff-write"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasCreate"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="staff-create"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="staff-create"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasDelete"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="staff-delete"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="staff-delete"
                                  ></label>
                                </div>
                              </td>
                            </tr>
                            <tr formGroupName="userRole">
                              <td>User</td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasRead"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="author-read"
                                    checked
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="author-read"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasWrite"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="author-write"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="author-write"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasCreate"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="author-create"
                                    checked
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="author-create"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    formControlName="hasDelete"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="author-delete"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="author-delete"
                                  ></label>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>Contributor</td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="contributor-read"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="contributor-read"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="contributor-write"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="contributor-write"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="contributor-create"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="contributor-create"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="contributor-delete"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="contributor-delete"
                                  ></label>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>User</td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="user-read"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="user-read"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="user-create"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="user-create"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="user-write"
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="user-write"
                                  ></label>
                                </div>
                              </td>
                              <td>
                                <div class="custom-control custom-checkbox">
                                  <input
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="user-delete"
                                    checked
                                  />
                                  <label
                                    class="custom-control-label"
                                    for="user-delete"
                                  ></label>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="col-12 d-flex justify-content-end mt-2">
                        <button
                          type="submit"
                          rippleEffect
                          class="btn btn-primary mr-1 mb-50"
                          (click)="updateRole()"
                        >
                          Cập Nhật
                        </button>
                        <app-return [buttonReturn]="buttonReturn"> </app-return>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-template>
            </li>
          </ul>
          <div [ngbNavOutlet]="nav" class="mt-2"></div>
        </div>
      </div>
    </section>
  </div>
</div>
